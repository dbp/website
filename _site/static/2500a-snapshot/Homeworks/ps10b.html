<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=0.8">
  <title>
   dbp.io
  </title>
  <link rel="stylesheet" type="text/css" href="../scribble.css" title="default">
  <link rel="stylesheet" type="text/css" href="../racket.css" title="default">
  <link rel="stylesheet" type="text/css" href="../manual-style.css" title="default">
  <link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default">
  <link rel="stylesheet" type="text/css" href="../pretty.css" title="default">
  <link rel="stylesheet" type="text/css" href="../pygments.css" title="default">
  <script type="text/javascript" src="../scribble-common.js"></script>
  <script type="text/javascript" src="../manual-racket.js"></script>
 </head>
 <body id="scribble-racket-lang-org">
  <div class="tocset">
   <div class="tocview">
    <div class="tocviewlist tocviewlisttopspace">
     <div class="tocviewtitle">
      <table cellspacing="0" cellpadding="0">
       <tbody>
        <tr>
         <td style="width: 1em;">
          <a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">►</a>
         </td>
         <td></td>
         <td>
          <a href="../index.html" class="tocviewlink" data-pltdoc="x">Accelerated Fundamentals of Computer Science 1</a>
         </td>
        </tr>
       </tbody>
      </table>
     </div>
     <div class="tocviewsublisttop" style="display: none;" id="tocview_0">
      <table cellspacing="0" cellpadding="0">
       <tbody>
        <tr>
         <td align="right"></td>
         <td>
          <a href="../general/index.html" class="tocviewlink" data-pltdoc="x">General Information</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="../advice/index.html" class="tocviewlink" data-pltdoc="x">Advice</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="../syllabus/index.html" class="tocviewlink" data-pltdoc="x">Syllabus</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="../ofc_hrs/index.html" class="tocviewlink" data-pltdoc="x">Office Hours/<span class="mywbr"> &nbsp;</span>Contact</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="../comm/index.html" class="tocviewlink" data-pltdoc="x">Email, Discord</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="index.html" class="tocviewselflink" data-pltdoc="x">Homeworks</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="../labs/index.html" class="tocviewlink" data-pltdoc="x">Labs</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="../style/index.html" class="tocviewlink" data-pltdoc="x">The Style</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="../texts/index.html" class="tocviewlink" data-pltdoc="x">Texts</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="../contract/index.html" class="tocviewlink" data-pltdoc="x">Course Contract</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="../design_recipe/index.html" class="tocviewlink" data-pltdoc="x">The Design Recipe</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="../placement/index.html" class="tocviewlink" data-pltdoc="x">Placement Test</a>
         </td>
        </tr>
       </tbody>
      </table>
     </div>
    </div>
    <div class="tocviewlist">
     <table cellspacing="0" cellpadding="0">
      <tbody>
       <tr>
        <td style="width: 1em;">
         <a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">▼</a>
        </td>
        <td></td>
        <td>
         <a href="index.html" class="tocviewlink" data-pltdoc="x">Homeworks</a>
        </td>
       </tr>
      </tbody>
     </table>
     <div class="tocviewsublistbottom" style="display: block;" id="tocview_1">
      <table cellspacing="0" cellpadding="0">
       <tbody>
        <tr>
         <td align="right"></td>
         <td>
          <a href="ps1b.html" class="tocviewlink" data-pltdoc="x">Homework 1b</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="ps2a.html" class="tocviewlink" data-pltdoc="x">Homework 2a</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="ps2b.html" class="tocviewlink" data-pltdoc="x">Homework 2b</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="ps3a.html" class="tocviewlink" data-pltdoc="x">Homework 3a</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="ps3b.html" class="tocviewlink" data-pltdoc="x">Homework 3b</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="ps4a.html" class="tocviewlink" data-pltdoc="x">Homework 4a</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="ps4b.html" class="tocviewlink" data-pltdoc="x">Homework 4b</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="ps5b.html" class="tocviewlink" data-pltdoc="x">Homework 5b</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="ps6b.html" class="tocviewlink" data-pltdoc="x">Homework 6b</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="ps7a.html" class="tocviewlink" data-pltdoc="x">Homework 7a</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="ps7b.html" class="tocviewlink" data-pltdoc="x">Homework 7b</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="ps8a.html" class="tocviewlink" data-pltdoc="x">Homework 8a</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="ps8b.html" class="tocviewlink" data-pltdoc="x">Homework 8b</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="ps9a.html" class="tocviewlink" data-pltdoc="x">Homework 9a</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="ps9b.html" class="tocviewlink" data-pltdoc="x">Homework 9b</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="" class="tocviewselflink" data-pltdoc="x">Homework 10b</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="ps11a.html" class="tocviewlink" data-pltdoc="x">Homework 11a</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="ps11b.html" class="tocviewlink" data-pltdoc="x">Homework 11b</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="ps12a.html" class="tocviewlink" data-pltdoc="x">Homework 12a</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="ps14a.html" class="tocviewlink" data-pltdoc="x">Homework 14a</a>
         </td>
        </tr>
       </tbody>
      </table>
     </div>
    </div>
   </div>
  </div>
  <div class="maincolumn">
   <div class="main">
    <div class="versionbox">
     <span class="version">8.10</span>
    </div>
    <div class="navsettop">
     <span class="navleft">
     <div class="nosearchform"></div>
     &nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span>
    </span>
    <span class="navright">&nbsp;&nbsp;<a href="ps9b.html" title="backward to &quot;Homework 9b&quot;" data-pltdoc="x">← prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Homeworks&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="ps11a.html" title="forward to &quot;Homework 11a&quot;" data-pltdoc="x">next →</a></span>&nbsp;
   </div>
   <h3>
    <a name="(part._ps10b)"></a>Homework 10b
   </h3>
   <p></p>
   <div class="SIntrapara">
    <blockquote class="refpara">
     <blockquote class="refcolumn">
      <blockquote class="refcontent">
       <p>
        <img src="assignments.png" alt="home work!" width="121" height="132">
       </p>
      </blockquote>
     </blockquote>
    </blockquote>
   </div>
   <div class="SIntrapara">
    <span style="font-weight: bold">Programming Language</span>  <span style="color: red">#lang htdp/isl+</span>
   </div>
   <p></p>
   <p>
    <span style="color: red">MUST BE DONE WITH YOUR (NEW) PARTNER</span>
   </p>
   <p>
    <span style="color: red">MUST USE CHECKED-SIGNATURES!</span>
   </p>
   <p>
    <span style="font-weight: bold">Due Date</span> Thu at 9:00pm (<a href="../syllabus/index.html#%28part._10%29" data-pltdoc="x">Week 10</a>)
   </p>
   <p>
    <span style="font-weight: bold">Purpose</span> Add input &amp; memory to calculator
   </p>
   <p>
    <span style="font-weight: bold">Exercises</span>
   </p>
   <p></p>
   <div class="SIntrapara">
    In this assignment, you will continue working on your project to create a small
"calculator," which you began in 8a.
In this version, you will add support for user
input and "memory" operations (storing, recalling, and clearing).
   </div>
   <div class="SIntrapara">
    <blockquote class="refpara">
     <blockquote class="refcolumn">
      <blockquote class="refcontent">
       <p>
        We <span style="font-style: italic">strongly</span> recommend keeping the board code close at hand!
       </p>
      </blockquote>
     </blockquote>
    </blockquote>
   </div>
   <div class="SIntrapara">
    To do so, you will use continuation-passing style (CPS),
which you learned about in Lecture 23.
   </div>
   <p></p>
   <p>
    <span style="font-weight: bold">Adding Input</span>
   </p>
   <p>
    Last time, your <span class="RktSym">eval</span><span class="RktMeta"></span> function accepted a placeholder input.
This time, <span class="RktSym">eval</span><span class="RktMeta"></span> should not accept any input up front;
instead, it should <span style="font-style: italic">suspend</span> the computation
and prompt the user for input before continuing.
This means that <span class="RktSym">eval</span><span class="RktMeta"></span> will not always return a number;
it will instead return a <span class="RktSym">Result</span><span class="RktMeta"></span>,
which can be either a number (i.e., the final answer, as before)
or a suspended computation.
   </p>
   <blockquote class="SCodeFlow">
    <table cellspacing="0" cellpadding="0" class="RktBlk">
     <tbody>
      <tr>
       <td>
        <span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">define-struct</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">input</span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">resume</span><span class="RktPn">]</span><span class="RktPn">)</span>
       </td>
      </tr>
      <tr>
       <td>
        <span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">AInput is a</span>
       </td>
      </tr>
      <tr>
       <td>
        <span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">define</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">AInput</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">signature</span></span></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">InputOf</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Number</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">-&gt;</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">Result</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">)</span>
       </td>
      </tr>
      <tr>
       <td>
        <span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">representing a suspended calculator computation awaiting user input</span>
       </td>
      </tr>
      <tr>
       <td>
        <span class="hspace">&nbsp;</span>
       </td>
      </tr>
      <tr>
       <td>
        <span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">a Result is a</span>
       </td>
      </tr>
      <tr>
       <td>
        <span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">define</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">Result</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">signature</span></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">mixed</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Number</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">AInput</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span>
       </td>
      </tr>
      <tr>
       <td>
        <span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">where a Number is a final answer and a AInput is awaiting user input</span>
       </td>
      </tr>
     </tbody>
    </table>
   </blockquote>
   <blockquote>
    <p>
     <span style="font-weight: bold">Exercise 1 </span>Design a function <span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">:</span></span></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">resume</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">AInput</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><span class="badlink"><span class="RktValLink">Number</span></span></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><span class="badlink"><span class="RktValLink">-&gt;</span></span></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">Result</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span>
that continues the computation with the given input.
    </p>
   </blockquote>
   <p></p>
   <div class="SIntrapara">
    Writing <span class="RktSym">eval</span><span class="RktMeta"></span> directly, in the style of the 8a,
   </div>
   <div class="SIntrapara">
    <blockquote class="refpara">
     <blockquote class="refcolumn">
      <blockquote class="refcontent">
       <p>
        You can try this out as a thought experiment. What would you return in the <span class="RktSym">e-in</span><span class="RktMeta"></span> case?
       </p>
      </blockquote>
     </blockquote>
    </blockquote>
   </div>
   <div class="SIntrapara">
    will not support suspending the computation for input.
Instead, you will use CPS.
   </div>
   <p></p>
   <blockquote class="SCodeFlow">
    <table cellspacing="0" cellpadding="0" class="RktBlk">
     <tbody>
      <tr>
       <td>
        <span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">A Cont is a</span>
       </td>
      </tr>
      <tr>
       <td>
        <span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">define</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">Cont</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">signature</span></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Number</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">-&gt;</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">Result</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span>
       </td>
      </tr>
      <tr>
       <td>
        <span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">where the Number is the answer of the previous computation</span>
       </td>
      </tr>
     </tbody>
    </table>
   </blockquote>
   <blockquote>
    <p>
     <span style="font-weight: bold">Exercise 2 </span>Unlike the previous assignment,
the order in which you evaluate the program matters.
In this assignment, you will evaluate expressions from left to right.
In a comment,
provide an example program using <span class="RktSym">input</span><span class="RktMeta"></span>
where the answer is different if one evaluates left-to-right vs. right-to-left,
and say what these answers are.
    </p>
   </blockquote>
   <blockquote>
    <p>
     <span style="font-weight: bold">Exercise 3 </span>Write a helper function <span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">:</span></span></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">eval/aux</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">Exp</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><span class="badlink"><span class="RktValLink">-&gt;</span></span></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">Cont</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><span class="badlink"><span class="RktValLink">-&gt;</span></span></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">Result</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span>.
You should evaluate expressions left-to-right.
Take some time to digest this signature; make sure you understand it before diving into the code!
Refer to the lecture code if you are stuck.
    </p>
   </blockquote>
   <blockquote>
    <p>
     <span style="font-weight: bold">Exercise 4 </span>Revise <span class="RktSym">eval</span><span class="RktMeta"></span> so that it has the signature <span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">:</span></span></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">eval</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">Exp</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><span class="badlink"><span class="RktValLink">-&gt;</span></span></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">Result</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span>,
and revise <span class="RktSym">run</span><span class="RktMeta"></span> so that it has the signature <span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">:</span></span></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">run</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">S-Exp</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><span class="badlink"><span class="RktValLink">-&gt;</span></span></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">Result</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span>
(you needn’t include <span class="RktSym">simplify</span><span class="RktMeta"></span> and <span class="RktSym">compact</span><span class="RktMeta"></span>).
You should use <span class="RktSym">run</span><span class="RktMeta"></span> and <span class="RktSym">resume</span><span class="RktMeta"></span> to write tests.
    </p>
   </blockquote>
   <p>
    <span style="font-weight: bold">Parsing New Expressions</span>
   </p>
   <p>
    Now you will add support for memory operations.
Extend your <span class="RktSym">Exp</span><span class="RktMeta"></span> grammar to include the follow constructs.
   </p>
   <blockquote class="SCodeFlow">
    <table cellspacing="0" cellpadding="0" class="RktBlk">
     <tbody>
      <tr>
       <td>
        <span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">an (EM+Of Exp)</span>
       </td>
      </tr>
      <tr>
       <td>
        <span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">represents a program that computes its argument and adds it to the value in memory</span>
       </td>
      </tr>
      <tr>
       <td>
        <span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">define-struct</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">e-m+</span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">arg</span><span class="RktPn">]</span><span class="RktPn">)</span>
       </td>
      </tr>
      <tr>
       <td>
        <span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">an EMr represents a program that recalls a value from memory</span>
       </td>
      </tr>
      <tr>
       <td>
        <span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">define-struct</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">e-mr</span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktPn">]</span><span class="RktPn">)</span>
       </td>
      </tr>
      <tr>
       <td>
        <span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">an EMc represents a program that clears the value in memory (sets it to zero)</span>
       </td>
      </tr>
      <tr>
       <td>
        <span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">define-struct</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">e-mc</span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktPn">]</span><span class="RktPn">)</span>
       </td>
      </tr>
      <tr>
       <td>
        <span class="hspace">&nbsp;</span>
       </td>
      </tr>
      <tr>
       <td>
        <span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">an Exp is a</span>
       </td>
      </tr>
      <tr>
       <td>
        <span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">define</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">Exp</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">signature</span></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">mixed</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Number</span></span></span>
       </td>
      </tr>
      <tr>
       <td>
        <span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">EOpOf</span><span class="hspace">&nbsp;</span><span class="RktSym">Op</span><span class="hspace">&nbsp;</span><span class="RktSym">Exp</span><span class="hspace">&nbsp;</span><span class="RktSym">Exp</span><span class="RktPn">)</span>
       </td>
      </tr>
      <tr>
       <td>
        <span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">EM+Of</span><span class="hspace">&nbsp;</span><span class="RktSym">Exp</span><span class="RktPn">)</span>
       </td>
      </tr>
      <tr>
       <td>
        <span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">EMr</span>
       </td>
      </tr>
      <tr>
       <td>
        <span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">EMc</span>
       </td>
      </tr>
      <tr>
       <td>
        <span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">EIn</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span>
       </td>
      </tr>
      <tr>
       <td>
        <span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">representing a calculator program that can prompt for input and manipulate state</span>
       </td>
      </tr>
     </tbody>
    </table>
   </blockquote>
   <p></p>
   <div class="SIntrapara">
    The s-exp syntax for these operations is <span class="RktPn">(</span><span class="RktSym">m+</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><span class="badlink"><span class="RktValLink">e</span></span></span><span class="RktPn">)</span><span class="RktMeta"></span>, <span class="RktPn">(</span><span class="RktSym">mr</span><span class="RktPn">)</span><span class="RktMeta"></span>, <span class="RktPn">(</span><span class="RktSym">mc</span><span class="RktPn">)</span><span class="RktMeta"></span>.
An example in context:
   </div>
   <div class="SIntrapara">
    <blockquote class="SCodeFlow">
     <p>
      <span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">+</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">m+</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">+</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">mc</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">mr</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktVal">)</span>
     </p>
    </blockquote>
   </div>
   <p></p>
   <blockquote>
    <p>
     <span style="font-weight: bold">Exercise 5 </span>Revise your <span class="RktSym">parse</span><span class="RktMeta"></span> function to handle these new expressions.
As before, it should fail gracefully (i.e., with an appropriate error message) if the input is invalid.
You should also use this opportunity to fix any bugs in <span class="RktSym">parse</span><span class="RktMeta"></span> from the previous assignment.
    </p>
   </blockquote>
   <p>
    <span style="font-weight: bold">Evaluating Memory Operations</span>
   </p>
   <p>
    Finally, you will add support for evaluating memory operations.
As before, you should evaluate expressions left-to-right.
Initially, the memory cell has value 0.
   </p>
   <blockquote>
    <p>
     <span style="font-weight: bold">Exercise 6 </span>The signatures for <span class="RktSym">eval</span><span class="RktMeta"></span> and <span class="RktSym">run</span><span class="RktMeta"></span> will not change,
but the signatures for <span class="RktSym">eval/aux</span><span class="RktMeta"></span> and <span class="RktSym">Cont</span><span class="RktMeta"></span> will change in a significant way.
Revise these signatures so that they support threading the current memory cell through the computation.
Then revise the existing cases in <span class="RktSym">eval/aux</span><span class="RktMeta"></span> to be consistent with its new signature.
Finally, revise <span class="RktSym">eval</span><span class="RktMeta"></span> to provide the initial value of the memory cell, which is 0.
    </p>
   </blockquote>
   <blockquote>
    <p></p>
    <div class="SIntrapara">
     <span style="font-weight: bold">Exercise 7 </span>Revise <span class="RktSym">eval/aux</span><span class="RktMeta"></span> to include support for <span class="RktSym">m+</span><span class="RktMeta"></span>.
It adds its argument to the current value of the memory cell,
but returns 0 as the answer.
For example,
    </div>
    <div class="SIntrapara">
     <blockquote class="SCodeFlow">
      <p>
       <span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">check-expect</span></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">run</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">+</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">m+</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">+</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">m+</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">mr</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">7</span><span class="RktPn">)</span>
      </p>
     </blockquote>
    </div>
    <p></p>
   </blockquote>
   <blockquote>
    <p>
     <span style="font-weight: bold">Exercise 8 </span>Revise <span class="RktSym">eval/aux</span><span class="RktMeta"></span> to include support for <span class="RktSym">mr</span><span class="RktMeta"></span>.
It does not change the current value of the memory cell
and returns the memory’s value as the answer.
    </p>
   </blockquote>
   <blockquote>
    <p>
     <span style="font-weight: bold">Exercise 9 </span>Revise <span class="RktSym">eval/aux</span><span class="RktMeta"></span> to include support for <span class="RktSym">mc</span><span class="RktMeta"></span>.
It clears the current value of the memory cell
and returns 0 as the answer.
For example,
(check-expect (run ’(+ (m+ 5) (+ (mc) (mr)))) 0)
    </p>
   </blockquote>
   <blockquote>
    <p>
     <span style="font-weight: bold">Exercise 10 </span>Write lots of tests!
You should use all of the helper functions at your disposal,
and also use quasiquoting to build larger examples out of smaller ones.
    </p>
   </blockquote>
   <div class="navsetbottom">
    <span class="navleft">
    <div class="nosearchform"></div>
    &nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span>
   </span>
   <span class="navright">&nbsp;&nbsp;<a href="ps9b.html" title="backward to &quot;Homework 9b&quot;" data-pltdoc="x">← prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Homeworks&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="ps11a.html" title="forward to &quot;Homework 11a&quot;" data-pltdoc="x">next →</a></span>&nbsp;
  </div>
 </div>
</div>
<div id="contextindicator">
 &nbsp;
</div>
</body>
</html>
