<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=0.8">
  <title>
   dbp.io
  </title>
  <link rel="stylesheet" type="text/css" href="../scribble.css" title="default">
  <link rel="stylesheet" type="text/css" href="../racket.css" title="default">
  <link rel="stylesheet" type="text/css" href="../manual-style.css" title="default">
  <link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default">
  <link rel="stylesheet" type="text/css" href="../pretty.css" title="default">
  <link rel="stylesheet" type="text/css" href="../pygments.css" title="default">
  <script type="text/javascript" src="../scribble-common.js"></script>
  <script type="text/javascript" src="../manual-racket.js"></script>
 </head>
 <body id="scribble-racket-lang-org">
  <div class="tocset">
   <div class="tocview">
    <div class="tocviewlist tocviewlisttopspace">
     <div class="tocviewtitle">
      <table cellspacing="0" cellpadding="0">
       <tbody>
        <tr>
         <td style="width: 1em;">
          <a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">►</a>
         </td>
         <td></td>
         <td>
          <a href="../index.html" class="tocviewlink" data-pltdoc="x">Accelerated Fundamentals of Computer Science 1</a>
         </td>
        </tr>
       </tbody>
      </table>
     </div>
     <div class="tocviewsublisttop" style="display: none;" id="tocview_0">
      <table cellspacing="0" cellpadding="0">
       <tbody>
        <tr>
         <td align="right"></td>
         <td>
          <a href="../general/index.html" class="tocviewlink" data-pltdoc="x">General Information</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="../advice/index.html" class="tocviewlink" data-pltdoc="x">Advice</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="../syllabus/index.html" class="tocviewlink" data-pltdoc="x">Syllabus</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="../ofc_hrs/index.html" class="tocviewlink" data-pltdoc="x">Office Hours/<span class="mywbr"> &nbsp;</span>Contact</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="../comm/index.html" class="tocviewlink" data-pltdoc="x">Email, Discord</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="index.html" class="tocviewselflink" data-pltdoc="x">Homeworks</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="../labs/index.html" class="tocviewlink" data-pltdoc="x">Labs</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="../style/index.html" class="tocviewlink" data-pltdoc="x">The Style</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="../texts/index.html" class="tocviewlink" data-pltdoc="x">Texts</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="../contract/index.html" class="tocviewlink" data-pltdoc="x">Course Contract</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="../design_recipe/index.html" class="tocviewlink" data-pltdoc="x">The Design Recipe</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="../placement/index.html" class="tocviewlink" data-pltdoc="x">Placement Test</a>
         </td>
        </tr>
       </tbody>
      </table>
     </div>
    </div>
    <div class="tocviewlist">
     <table cellspacing="0" cellpadding="0">
      <tbody>
       <tr>
        <td style="width: 1em;">
         <a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">▼</a>
        </td>
        <td></td>
        <td>
         <a href="index.html" class="tocviewlink" data-pltdoc="x">Homeworks</a>
        </td>
       </tr>
      </tbody>
     </table>
     <div class="tocviewsublistbottom" style="display: block;" id="tocview_1">
      <table cellspacing="0" cellpadding="0">
       <tbody>
        <tr>
         <td align="right"></td>
         <td>
          <a href="ps1b.html" class="tocviewlink" data-pltdoc="x">Homework 1b</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="ps2a.html" class="tocviewlink" data-pltdoc="x">Homework 2a</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="ps2b.html" class="tocviewlink" data-pltdoc="x">Homework 2b</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="ps3a.html" class="tocviewlink" data-pltdoc="x">Homework 3a</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="ps3b.html" class="tocviewlink" data-pltdoc="x">Homework 3b</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="ps4a.html" class="tocviewlink" data-pltdoc="x">Homework 4a</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="ps4b.html" class="tocviewlink" data-pltdoc="x">Homework 4b</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="ps5b.html" class="tocviewlink" data-pltdoc="x">Homework 5b</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="ps6b.html" class="tocviewlink" data-pltdoc="x">Homework 6b</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="ps7a.html" class="tocviewlink" data-pltdoc="x">Homework 7a</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="ps7b.html" class="tocviewlink" data-pltdoc="x">Homework 7b</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="ps8a.html" class="tocviewlink" data-pltdoc="x">Homework 8a</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="ps8b.html" class="tocviewlink" data-pltdoc="x">Homework 8b</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="ps9a.html" class="tocviewlink" data-pltdoc="x">Homework 9a</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="ps9b.html" class="tocviewlink" data-pltdoc="x">Homework 9b</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="ps10b.html" class="tocviewlink" data-pltdoc="x">Homework 10b</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="" class="tocviewselflink" data-pltdoc="x">Homework 11a</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="ps11b.html" class="tocviewlink" data-pltdoc="x">Homework 11b</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="ps12a.html" class="tocviewlink" data-pltdoc="x">Homework 12a</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="ps14a.html" class="tocviewlink" data-pltdoc="x">Homework 14a</a>
         </td>
        </tr>
       </tbody>
      </table>
     </div>
    </div>
   </div>
  </div>
  <div class="maincolumn">
   <div class="main">
    <div class="versionbox">
     <span class="version">8.10</span>
    </div>
    <div class="navsettop">
     <span class="navleft">
     <div class="nosearchform"></div>
     &nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span>
    </span>
    <span class="navright">&nbsp;&nbsp;<a href="ps10b.html" title="backward to &quot;Homework 10b&quot;" data-pltdoc="x">← prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Homeworks&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="ps11b.html" title="forward to &quot;Homework 11b&quot;" data-pltdoc="x">next →</a></span>&nbsp;
   </div>
   <h3>
    <a name="(part._ps11a)"></a>Homework 11a
   </h3>
   <p></p>
   <div class="SIntrapara">
    <blockquote class="refpara">
     <blockquote class="refcolumn">
      <blockquote class="refcontent">
       <p>
        <img src="assignments.png" alt="home work!" width="121" height="132">
       </p>
      </blockquote>
     </blockquote>
    </blockquote>
   </div>
   <div class="SIntrapara">
    <span style="font-weight: bold">Programming Language</span>  <span style="color: red">#lang htdp/isl+</span>
   </div>
   <p></p>
   <p>
    <span style="color: red">MUST BE DONE WITH YOUR PARTNER</span>
   </p>
   <p>
    <span style="color: red">MUST USE CHECKED-SIGNATURES!</span>
   </p>
   <p>
    <span style="font-weight: bold">Due Date</span> Tues at 9:00pm (<a href="../syllabus/index.html#%28part._11%29" data-pltdoc="x">Week 11</a>)
   </p>
   <p>
    <span style="font-weight: bold">Purpose</span> Implement the first version of StateLang
   </p>
   <p>
    In this, and a subsequent, assignment, you will implement a subset of Advanced
Student Language we will call StateLang: i.e., a language with functions, numbers, variable mutation,
and box mutation. This assignment, which is the first half, has you just
implement the "pure" part that has neither variable nor box mutation.
   </p>
   <p>
    NOTE: In these assignments you are <span style="font-style: italic">implementing</span> part of ASL: you are
not <span style="font-style: italic">using</span> ASL.
   </p>
   <p>
    <span style="font-weight: bold">Exercises</span>
   </p>
   <blockquote>
    <p>
     <span style="font-weight: bold">Exercise 1 </span> We would like to write programs in StateLang as S-Expressions. A few examples:
    </p>
    <blockquote class="SCodeFlow">
     <table cellspacing="0" cellpadding="0" class="RktBlk">
      <tbody>
       <tr>
        <td>
         <span class="RktVal">10</span><span class="RktMeta"></span>
        </td>
       </tr>
       <tr>
        <td>
         <span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">+</span></span></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">1</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">2</span><span class="RktPn">)</span><span class="RktMeta"></span>
        </td>
       </tr>
       <tr>
        <td>
         <span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">*</span></span></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">-</span></span></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">1</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">2</span><span class="RktPn">)</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">/</span></span></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">3</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">4</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span>
        </td>
       </tr>
       <tr>
        <td>
         <span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">lambda</span></span></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">+</span></span></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">x</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span>
        </td>
       </tr>
       <tr>
        <td>
         <span class="RktMeta"></span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">lambda</span></span></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">x</span><span class="RktPn">)</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">10</span><span class="RktPn">)</span><span class="RktMeta"></span>
        </td>
       </tr>
      </tbody>
     </table>
    </blockquote>
    <p>
     i.e., we should support numbers, (binary) arithmetic expressions, (single-argument) lambdas, and function application. A couple of the positions in the syntax are special (i.e., the argument position in a lambda, and the operator in an arithmetic expression), but the rest should be able to be other expressions to support nesting.
    </p>
    <p>
     In this exercise, you should define appropriate structs and use them to define an <span class="RktSym">Expr</span><span class="RktMeta"></span> type that captures expressions.
    </p>
   </blockquote>
   <blockquote>
    <p>
     <span style="font-weight: bold">Exercise 2 </span>While your structs that you defined previously should allow you to write <span style="font-style: italic">recognizable</span> versions of the examples above, we would like to be able to write exactly what you see above, so implement a <span class="RktSym">parse</span><span class="RktMeta"></span> function that turns an SExpression into an <span class="RktSym">Expr</span><span class="RktMeta"></span>. It should take an arbitrary SExpression as input and should use <span class="RktSym"><span class="badlink"><span class="RktValLink">error</span></span></span><span class="RktMeta"></span> if the input cannot be converted into an <span class="RktSym">Expr</span><span class="RktMeta"></span>.
    </p>
   </blockquote>
   <blockquote>
    <p>
     <span style="font-weight: bold">Exercise 3 </span> If this were like your calculator, you would proceed directly to
writing <span class="RktSym">eval</span><span class="RktMeta"></span>. What is different here is that you have variables, which we have to figure out how to deal with. In BSL/ISL/ISL+, we’ve said that function application (the place where variables show up) proceeds by substitution. i.e., you evaluate the argument and then substitute for all occurrences of the function variable in its body.
    </p>
    <p>
     In order to express that, we first need to be precise about what we mean by values. We never wrote this down for the calculator, because values in that case were just numbers. But here, values can be two things: numbers or functions! So first, define a signature <span class="RktSym">Val</span><span class="RktMeta"></span> for values.
    </p>
    <p>
     Now, write a helper function, <span class="RktSym">subst</span><span class="RktMeta"></span>, that takes an <span class="RktSym">Expr</span><span class="RktMeta"></span>, a variable (a <span class="RktSym"><span class="badlink"><span class="RktValLink">Symbol</span></span></span><span class="RktMeta"></span>) and a <span class="RktSym">Val</span><span class="RktMeta"></span>. It should replace all occurrences of the variable with the value. Note: be sure you do the right thing when you cross into the body of a lambda! What should happen if the variable you are replacing is the same as the argument name of the lambda? If you aren’t sure, experiment with ISL+!
    </p>
   </blockquote>
   <blockquote>
    <p>
     <span style="font-weight: bold">Exercise 4 </span>Now that you have <span class="RktSym">subst</span><span class="RktMeta"></span>, you should write <span class="RktSym">eval</span><span class="RktMeta"></span> which takes an <span class="RktSym">Expr</span><span class="RktMeta"></span> and returns a <span class="RktSym">Val</span><span class="RktMeta"></span>. When you reach an application, after you evaluate the argument, use <span class="RktSym">subst</span><span class="RktMeta"></span> to substitute the argument into the body. Important note: your function may behave strangely (not in a good way) if you allow "unbound" variables to exist in expressions. The next exercise has you define a function to check for such bugs, but for this problem, you can restrict your test cases to those where such errors are absent.
    </p>
   </blockquote>
   <blockquote>
    <p>
     <span style="font-weight: bold">Exercise 5 </span>One error that programs can have is typos in variables. These so-called "scoping" bugs are relatively easy to detect without running the program. Design a function <span class="RktSym">wf</span><span class="RktMeta"></span> that takes an <span class="RktSym">Expr</span><span class="RktMeta"></span> and either returns the same <span class="RktSym">Expr</span><span class="RktMeta"></span> if there are no scope issues (so it is "well-formed" or "wf"), and calls <span class="RktSym"><span class="badlink"><span class="RktValLink">error</span></span></span><span class="RktMeta"></span> if there are. Your error should include <span style="font-style: italic">all</span> the scoping bugs, not just the first one! Note: you may want to define a helper with an accumulator to do this.
    </p>
   </blockquote>
   <div class="navsetbottom">
    <span class="navleft">
    <div class="nosearchform"></div>
    &nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span>
   </span>
   <span class="navright">&nbsp;&nbsp;<a href="ps10b.html" title="backward to &quot;Homework 10b&quot;" data-pltdoc="x">← prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Homeworks&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="ps11b.html" title="forward to &quot;Homework 11b&quot;" data-pltdoc="x">next →</a></span>&nbsp;
  </div>
 </div>
</div>
<div id="contextindicator">
 &nbsp;
</div>
</body>
</html>
