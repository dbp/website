<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=0.8">
  <title>
   dbp.io
  </title>
  <link rel="stylesheet" type="text/css" href="../scribble.css" title="default">
  <link rel="stylesheet" type="text/css" href="../racket.css" title="default">
  <link rel="stylesheet" type="text/css" href="../manual-style.css" title="default">
  <link rel="stylesheet" type="text/css" href="../manual-racket.css" title="default">
  <link rel="stylesheet" type="text/css" href="../pretty.css" title="default">
  <link rel="stylesheet" type="text/css" href="../pygments.css" title="default">
  <script type="text/javascript" src="../scribble-common.js"></script>
  <script type="text/javascript" src="../manual-racket.js"></script>
 </head>
 <body id="scribble-racket-lang-org">
  <div class="tocset">
   <div class="tocview">
    <div class="tocviewlist tocviewlisttopspace">
     <div class="tocviewtitle">
      <table cellspacing="0" cellpadding="0">
       <tbody>
        <tr>
         <td style="width: 1em;">
          <a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">►</a>
         </td>
         <td></td>
         <td>
          <a href="../index.html" class="tocviewlink" data-pltdoc="x">Accelerated Fundamentals of Computer Science 1</a>
         </td>
        </tr>
       </tbody>
      </table>
     </div>
     <div class="tocviewsublisttop" style="display: none;" id="tocview_0">
      <table cellspacing="0" cellpadding="0">
       <tbody>
        <tr>
         <td align="right"></td>
         <td>
          <a href="../general/index.html" class="tocviewlink" data-pltdoc="x">General Information</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="../advice/index.html" class="tocviewlink" data-pltdoc="x">Advice</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="../syllabus/index.html" class="tocviewlink" data-pltdoc="x">Syllabus</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="../ofc_hrs/index.html" class="tocviewlink" data-pltdoc="x">Office Hours/<span class="mywbr"> &nbsp;</span>Contact</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="../comm/index.html" class="tocviewlink" data-pltdoc="x">Email, Discord</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="index.html" class="tocviewselflink" data-pltdoc="x">Homeworks</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="../labs/index.html" class="tocviewlink" data-pltdoc="x">Labs</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="../style/index.html" class="tocviewlink" data-pltdoc="x">The Style</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="../texts/index.html" class="tocviewlink" data-pltdoc="x">Texts</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="../contract/index.html" class="tocviewlink" data-pltdoc="x">Course Contract</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="../design_recipe/index.html" class="tocviewlink" data-pltdoc="x">The Design Recipe</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="../placement/index.html" class="tocviewlink" data-pltdoc="x">Placement Test</a>
         </td>
        </tr>
       </tbody>
      </table>
     </div>
    </div>
    <div class="tocviewlist">
     <table cellspacing="0" cellpadding="0">
      <tbody>
       <tr>
        <td style="width: 1em;">
         <a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">▼</a>
        </td>
        <td></td>
        <td>
         <a href="index.html" class="tocviewlink" data-pltdoc="x">Homeworks</a>
        </td>
       </tr>
      </tbody>
     </table>
     <div class="tocviewsublistbottom" style="display: block;" id="tocview_1">
      <table cellspacing="0" cellpadding="0">
       <tbody>
        <tr>
         <td align="right"></td>
         <td>
          <a href="ps1b.html" class="tocviewlink" data-pltdoc="x">Homework 1b</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="ps2a.html" class="tocviewlink" data-pltdoc="x">Homework 2a</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="ps2b.html" class="tocviewlink" data-pltdoc="x">Homework 2b</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="ps3a.html" class="tocviewlink" data-pltdoc="x">Homework 3a</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="ps3b.html" class="tocviewlink" data-pltdoc="x">Homework 3b</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="ps4a.html" class="tocviewlink" data-pltdoc="x">Homework 4a</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="ps4b.html" class="tocviewlink" data-pltdoc="x">Homework 4b</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="ps5b.html" class="tocviewlink" data-pltdoc="x">Homework 5b</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="ps6b.html" class="tocviewlink" data-pltdoc="x">Homework 6b</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="ps7a.html" class="tocviewlink" data-pltdoc="x">Homework 7a</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="ps7b.html" class="tocviewlink" data-pltdoc="x">Homework 7b</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="" class="tocviewselflink" data-pltdoc="x">Homework 8a</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="ps8b.html" class="tocviewlink" data-pltdoc="x">Homework 8b</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="ps9a.html" class="tocviewlink" data-pltdoc="x">Homework 9a</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="ps9b.html" class="tocviewlink" data-pltdoc="x">Homework 9b</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="ps10b.html" class="tocviewlink" data-pltdoc="x">Homework 10b</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="ps11a.html" class="tocviewlink" data-pltdoc="x">Homework 11a</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="ps11b.html" class="tocviewlink" data-pltdoc="x">Homework 11b</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="ps12a.html" class="tocviewlink" data-pltdoc="x">Homework 12a</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="ps14a.html" class="tocviewlink" data-pltdoc="x">Homework 14a</a>
         </td>
        </tr>
       </tbody>
      </table>
     </div>
    </div>
   </div>
  </div>
  <div class="maincolumn">
   <div class="main">
    <div class="versionbox">
     <span class="version">8.10</span>
    </div>
    <div class="navsettop">
     <span class="navleft">
     <div class="nosearchform"></div>
     &nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span>
    </span>
    <span class="navright">&nbsp;&nbsp;<a href="ps7b.html" title="backward to &quot;Homework 7b&quot;" data-pltdoc="x">← prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Homeworks&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="ps8b.html" title="forward to &quot;Homework 8b&quot;" data-pltdoc="x">next →</a></span>&nbsp;
   </div>
   <h3>
    <a name="(part._ps8a)"></a>Homework 8a
   </h3>
   <p></p>
   <div class="SIntrapara">
    <blockquote class="refpara">
     <blockquote class="refcolumn">
      <blockquote class="refcontent">
       <p>
        <img src="assignments.png" alt="home work!" width="121" height="132">
       </p>
      </blockquote>
     </blockquote>
    </blockquote>
   </div>
   <div class="SIntrapara">
    <span style="font-weight: bold">Programming Language</span>  <span style="color: red">#lang htdp/isl+</span>
   </div>
   <p></p>
   <p>
    <span style="color: red">MUST BE DONE WITH YOUR PARTNER</span>
   </p>
   <p>
    <span style="color: red">MUST USE CHECKED-SIGNATURES!</span>
   </p>
   <p>
    <span style="font-weight: bold">Due Date</span> Tues at 9:00pm (<a href="../syllabus/index.html#%28part._8%29" data-pltdoc="x">Week 8</a>)
   </p>
   <p>
    <span style="font-weight: bold">Purpose</span> Start on calculator project
   </p>
   <p>
    <span style="font-weight: bold">Exercises</span>
   </p>
   <p>
    In this assignment, you will start working on a project to create a small
"calculator". Eventually, this will support not only arithmetic expressions, but
input and "memory" operations (storing and recalling). In this
assignment, you will build the first version, which is an evaluator for an
arithmetic expression language. It will have placeholders for accepting input,
but in this version, the expressions will not really accept input: we will just
provide a single fixed "input" value.
   </p>
   <p>
    <span style="font-weight: bold">Parsing Arithmetic Expressions</span>
   </p>
   <p>
    Consider the following definition of an arithmetic expression:
   </p>
   <blockquote class="SCodeFlow">
    <table cellspacing="0" cellpadding="0" class="RktBlk">
     <tbody>
      <tr>
       <td>
        <span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">:</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">op?</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Any</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">-&gt;</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Boolean</span></span></span><span class="RktPn">)</span><span class="RktPn">)</span>
       </td>
      </tr>
      <tr>
       <td>
        <span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">determines whether argument is the symbol of an arithmetic operator</span>
       </td>
      </tr>
      <tr>
       <td>
        <span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">define</span></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">op?</span><span class="hspace">&nbsp;</span><span class="RktSym">s</span><span class="RktPn">)</span>
       </td>
      </tr>
      <tr>
       <td>
        <span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">member</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">s</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">+</span><span class="hspace">&nbsp;</span><span class="RktVal"><span class="nobreak">-</span></span><span class="hspace">&nbsp;</span><span class="RktVal">*</span><span class="hspace">&nbsp;</span><span class="RktVal">/</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">)</span>
       </td>
      </tr>
      <tr>
       <td>
        <span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">define</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">Op</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">signature</span></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">predicate</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">op?</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span>
       </td>
      </tr>
      <tr>
       <td>
        <span class="hspace">&nbsp;</span>
       </td>
      </tr>
      <tr>
       <td>
        <span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">define-struct</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">e-op</span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">op</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">left</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">right</span></span></span><span class="RktPn">]</span><span class="RktPn">)</span>
       </td>
      </tr>
      <tr>
       <td>
        <span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">define-struct</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">e-in</span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktPn">]</span><span class="RktPn">)</span>
       </td>
      </tr>
      <tr>
       <td>
        <span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">define</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">Exp</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">signature</span></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">mixed</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Number</span></span></span>
       </td>
      </tr>
      <tr>
       <td>
        <span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">EOpOf</span><span class="hspace">&nbsp;</span><span class="RktSym">Op</span><span class="hspace">&nbsp;</span><span class="RktSym">Exp</span><span class="hspace">&nbsp;</span><span class="RktSym">Exp</span><span class="RktPn">)</span>
       </td>
      </tr>
      <tr>
       <td>
        <span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">EIn</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span>
       </td>
      </tr>
      <tr>
       <td>
        <span class="hspace">&nbsp;</span>
       </td>
      </tr>
      <tr>
       <td>
        <span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">define</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">E0</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span>
       </td>
      </tr>
      <tr>
       <td>
        <span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">define</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">E1</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">make-e-op</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">+</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">make-e-op</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal"><span class="nobreak">-</span></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">make-e-op</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">+</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktPn">)</span><span class="RktPn">)</span>
       </td>
      </tr>
      <tr>
       <td>
        <span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">make-e-op</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">*</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">make-e-op</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">/</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span>
       </td>
      </tr>
      <tr>
       <td>
        <span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">define</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">E2</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">make-e-op</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">+</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">make-e-op</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal"><span class="nobreak">-</span></span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span>
       </td>
      </tr>
      <tr>
       <td>
        <span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">define</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">E3</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">make-e-op</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">+</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">make-e-in</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktPn">)</span><span class="RktPn">)</span>
       </td>
      </tr>
     </tbody>
    </table>
   </blockquote>
   <blockquote>
    <p>
     <span style="font-weight: bold">Exercise 1 </span>Your first task is to design <span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">:</span></span></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">parse</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">S-Exp</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><span class="badlink"><span class="RktValLink">-&gt;</span></span></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">Exp</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span> that takes an S-Expression and
produces an Expression. This should allow you, using quote, to write (binary)
arithmetic expressions just as you do in ISL+. You should have the S-Expression <span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">list</span></span></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><span class="badlink"><span class="RktValLink">'</span></span></span><span class="RktSym">input</span><span class="RktPn">)</span><span class="RktMeta"></span> be how you represent input.
    </p>
    <p>
     Recall the definition of <span class="RktSym">S-Exp</span><span class="RktMeta"></span>:
    </p>
    <blockquote class="SCodeFlow">
     <p>
      <span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">define</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">S-Exp</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">signature</span></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">mixed</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Number</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">String</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Boolean</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Symbol</span></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">ListOf</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">S-Exp</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span>
     </p>
    </blockquote>
    <p>
     For example, the following three examples should parse to the examples given
above:
    </p>
    <blockquote class="SCodeFlow">
     <table cellspacing="0" cellpadding="0" class="RktBlk">
      <tbody>
       <tr>
        <td>
         <span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">define</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">S0</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span>
        </td>
       </tr>
       <tr>
        <td>
         <span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">define</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">S1</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">+</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal"><span class="nobreak">-</span></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">+</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">*</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">/</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">)</span>
        </td>
       </tr>
       <tr>
        <td>
         <span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">define</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">S2</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">+</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal"><span class="nobreak">-</span></span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">)</span>
        </td>
       </tr>
       <tr>
        <td>
         <span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">define</span></span></span><span class="hspace">&nbsp;</span><span class="RktSym">S3</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">+</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">input</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktVal">)</span><span class="RktPn">)</span>
        </td>
       </tr>
      </tbody>
     </table>
    </blockquote>
    <p>
     In case of an invalid <span class="RktSym">S-Exp</span><span class="RktMeta"></span>, you should raise an <span class="RktSym"><span class="badlink"><span class="RktValLink">error</span></span></span><span class="RktMeta"></span>. For example, the following (among others) tests should pass:
    </p>
    <blockquote class="SCodeFlow">
     <table cellspacing="0" cellpadding="0" class="RktBlk">
      <tbody>
       <tr>
        <td>
         <span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">check-error</span></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">parse</span><span class="hspace">&nbsp;</span><span class="RktVal">#t</span><span class="RktPn">)</span><span class="RktPn">)</span>
        </td>
       </tr>
       <tr>
        <td>
         <span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">check-error</span></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">parse</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">+</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">hello</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">)</span>
        </td>
       </tr>
      </tbody>
     </table>
    </blockquote>
   </blockquote>
   <p>
    <span style="font-weight: bold">Evaluating Expressions</span>
   </p>
   <p></p>
   <div class="SIntrapara">
    <blockquote>
     <p>
      <span style="font-weight: bold">Exercise 2 </span>Your next task is to <span style="font-style: italic">evaluate</span> expressions. Design <span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">:</span></span></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">eval</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Number</span></span></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">Exp</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><span class="badlink"><span class="RktValLink">-&gt;</span></span></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><span class="badlink"><span class="RktValLink">Number</span></span></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span> that takes a fixed number for all input, an <span class="RktSym">Exp</span><span class="RktMeta"></span> and returns the number that it
evaluates to. If you encounter a <span class="RktPn">(</span><span class="RktSym">make-e-in</span><span class="RktPn">)</span><span class="RktMeta"></span>, it should be treated as the first argument to <span class="RktSym">eval</span><span class="RktMeta"></span> (this is not true input, but we’ll add support in a future assignment)
     </p>
    </blockquote>
   </div>
   <div class="SIntrapara">
    .
   </div>
   <p></p>
   <p>
    <span style="font-weight: bold">Algebraic Simplification</span>
   </p>
   <p></p>
   <div class="SIntrapara">
    Even in arithmetic expressions that depend on input, certain expressions can be
simplified before being run: e.g., <span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">+</span></span></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><span class="badlink"><span class="RktValLink">e</span></span></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">0</span><span class="RktPn">)</span><span class="RktMeta"></span> will always be the same as
<span class="RktSym"><span class="badlink"><span class="RktValLink">e</span></span></span><span class="RktMeta"></span>, regardless of what <span class="RktSym"><span class="badlink"><span class="RktValLink">e</span></span></span><span class="RktMeta"></span> is.
   </div>
   <div class="SIntrapara">
    <blockquote class="refpara">
     <blockquote class="refcolumn">
      <blockquote class="refcontent">
       <p>
        Compiler optimizations are a fascinating and old topic. One of the most important people the field is Fran Allen (who won a Turing Award for the work), whose 1971 paper <a href="https://www.clear.rice.edu/comp512/Lectures/Papers/1971-allen-catalog.pdf">A Catalogue of Optimizing Transformations</a> is still a great description of many transformations. This assignment is doing a version of "Constant Folding", p18 in that paper.
       </p>
      </blockquote>
     </blockquote>
    </blockquote>
   </div>
   <div class="SIntrapara">
    Such optimizations are very common,
and are often done on programs through some form of compilation, as they can be
done ahead of time, so that when the program is actually running, fewer
operations need to be done. This is particularly useful if the computation in
question would need to happen many times, or if it happens on a different, more
hardware constrained platform than the program is built on.
   </div>
   <p></p>
   <blockquote>
    <p>
     <span style="font-weight: bold">Exercise 3 </span>In this exercise, you will perform a few simple algebraic
simplifications.
    </p>
    <p>
     Design a function <span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">:</span></span></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">simplify</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">Exp</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><span class="badlink"><span class="RktValLink">-&gt;</span></span></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">Exp</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span> that returns an expression
that has been simplified be replacing any occurrences of <span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">+</span></span></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><span class="badlink"><span class="RktValLink">e</span></span></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">0</span><span class="RktPn">)</span><span class="RktMeta"></span>,
<span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">+</span></span></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">0</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><span class="badlink"><span class="RktValLink">e</span></span></span><span class="RktPn">)</span><span class="RktMeta"></span> or <span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">-</span></span></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><span class="badlink"><span class="RktValLink">e</span></span></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">0</span><span class="RktPn">)</span><span class="RktMeta"></span> with <span class="RktSym"><span class="badlink"><span class="RktValLink">e</span></span></span><span class="RktMeta"></span> and <span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">*</span></span></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><span class="badlink"><span class="RktValLink">e</span></span></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktMeta"></span> or <span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">*</span></span></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">1</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><span class="badlink"><span class="RktValLink">e</span></span></span><span class="RktPn">)</span><span class="RktMeta"></span> or <span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">/</span></span></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><span class="badlink"><span class="RktValLink">e</span></span></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktMeta"></span> with <span class="RktSym"><span class="badlink"><span class="RktValLink">e</span></span></span><span class="RktMeta"></span>. Note that you should simplify as much as
you can, according to the rules described (but do not do arithmetic or reorder
expressions).
    </p>
   </blockquote>
   <p>
    In addition to simplifying trivial operations as you did in the previous exercise, it’s also not necessary to keep expressions when both operands are constants, as we can make equivalent expressions where the expression has been replaced with the result. e.g.,
   </p>
   <blockquote class="SCodeFlow">
    <table cellspacing="0" cellpadding="0" class="RktBlk">
     <tbody>
      <tr>
       <td>
        <span class="RktPn">(</span><span class="RktSym">make-e-op</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">*</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">same as 6</span>
       </td>
      </tr>
      <tr>
       <td>
        <span class="RktPn">(</span><span class="RktSym">make-e-op</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">+</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">make-e-op</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">+</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">same as 3</span>
       </td>
      </tr>
     </tbody>
    </table>
   </blockquote>
   <blockquote>
    <p>
     <span style="font-weight: bold">Exercise 4 </span>Design a function <span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">:</span></span></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">compact</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">Exp</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><span class="badlink"><span class="RktValLink">-&gt;</span></span></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">Exp</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span> that, given a <span class="RktSym">Exp</span><span class="RktMeta"></span>, replaces all constant expressions with the number that they evaluate to. Note that you should do this as much as possible, but don’t need to re-order expressions in order to do this (i.e., <span class="RktPn">(</span><span class="RktSym">make-e-op</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><span class="badlink"><span class="RktValLink">'</span></span></span><span class="RktSym"><span class="badlink"><span class="RktValLink">+</span></span></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">2</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">make-e-op</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><span class="badlink"><span class="RktValLink">'</span></span></span><span class="RktSym"><span class="badlink"><span class="RktValLink">+</span></span></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">3</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">make-e-in</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span> need not be compacted, even thought the equivalent <span class="RktPn">(</span><span class="RktSym">make-e-op</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><span class="badlink"><span class="RktValLink">'</span></span></span><span class="RktSym"><span class="badlink"><span class="RktValLink">+</span></span></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">make-e-op</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><span class="badlink"><span class="RktValLink">'</span></span></span><span class="RktSym"><span class="badlink"><span class="RktValLink">+</span></span></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">2</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktVal">3</span><span class="RktPn">)</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym">input</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span> would be).
    </p>
   </blockquote>
   <blockquote>
    <p>
     <span style="font-weight: bold">Exercise 5 </span>Compose your four functions together into a function <span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">:</span></span></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">run</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">Number</span></span></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">S-Exp</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><span class="badlink"><span class="RktValLink">-&gt;</span></span></span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym"><span class="badlink"><span class="RktValLink">Number</span></span></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktMeta"></span> that parses, compacts, simplifies, and then evaluates.
    </p>
   </blockquote>
   <div class="navsetbottom">
    <span class="navleft">
    <div class="nosearchform"></div>
    &nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span>
   </span>
   <span class="navright">&nbsp;&nbsp;<a href="ps7b.html" title="backward to &quot;Homework 7b&quot;" data-pltdoc="x">← prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Homeworks&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="ps8b.html" title="forward to &quot;Homework 8b&quot;" data-pltdoc="x">next →</a></span>&nbsp;
  </div>
 </div>
</div>
<div id="contextindicator">
 &nbsp;
</div>
</body>
</html>
