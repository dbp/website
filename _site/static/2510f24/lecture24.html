<!DOCTYPE html>
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  <script type="text/x-mathjax-config">
   MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX", "output/HTML-CSS"],
  tex2jax: {
    inlineMath: [ ["$","$"], ["\\(","\\)"] ],
    displayMath: [ ["$$","$$"], 
                   ["\\[","\\]"], 
                   ["\\begin{equation}","\\end{equation}"], 
                   ["\\begin{equation*}","\\end{equation*}"] ],
    processEscapes: true,
    ignoreClass: "tex2jax_ignore|JavaHighlightBlock|JavaHighlight"
  },
  "HTML-CSS": {
    availableFonts: [],
    webFont: "Asana-Math",
    preferredFont: "Asana-Math",
    imageFont: null,
    mtexFontInherit: true
  }
});
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  <script src="codemirror.js"></script>
  <script src="python.js"></script>
  <script src="runmode.js"></script>
  <script src="setup-page.js"></script>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=0.8">
  <title>
   dbp.io
  </title>
  <link rel="stylesheet" type="text/css" href="scribble.css" title="default">
  <link rel="stylesheet" type="text/css" href="racket.css" title="default">
  <link rel="stylesheet" type="text/css" href="manual-style.css" title="default">
  <link rel="stylesheet" type="text/css" href="manual-racket.css" title="default">
  <link rel="stylesheet" type="text/css" href="extra-styles.css" title="default">
  <link rel="stylesheet" type="text/css" href="codemirror.css" title="default">
  <script type="text/javascript" src="scribble-common.js"></script>
  <script type="text/javascript" src="manual-racket.js"></script>
 </head>
 <body id="scribble-racket-lang-org">
  <div class="tocset">
   <div class="tocview">
    <div class="tocviewlist tocviewlisttopspace">
     <div class="tocviewtitle">
      <table cellspacing="0" cellpadding="0">
       <tbody>
        <tr>
         <td style="width: 1em;">
          <a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">►</a>
         </td>
         <td></td>
         <td>
          <a href="index.html" class="tocviewlink" data-pltdoc="x">Fundamentals II
<br>
Introduction to Class-<wbr>based Program Design</a>
         </td>
        </tr>
       </tbody>
      </table>
     </div>
     <div class="tocviewsublisttop" style="display: none;" id="tocview_0">
      <table cellspacing="0" cellpadding="0">
       <tbody>
        <tr>
         <td align="right"></td>
         <td>
          <a href="General.html" class="tocviewlink" data-pltdoc="x">General</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="Texts.html" class="tocviewlink" data-pltdoc="x">Texts</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="Lectures.html" class="tocviewselflink" data-pltdoc="x">Lectures</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="Syllabus.html" class="tocviewlink" data-pltdoc="x">Syllabus</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="Lab_Materials.html" class="tocviewlink" data-pltdoc="x">Lab Materials</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="Assignments.html" class="tocviewlink" data-pltdoc="x">Assignments</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="Pair_Programming_Overview.html" class="tocviewlink" data-pltdoc="x">Pair Programming Overview</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="code-style.html" class="tocviewlink" data-pltdoc="x">Code style</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="Documentation.html" class="tocviewlink" data-pltdoc="x">Documentation</a>
         </td>
        </tr>
       </tbody>
      </table>
     </div>
    </div>
    <div class="tocviewlist">
     <table cellspacing="0" cellpadding="0">
      <tbody>
       <tr>
        <td style="width: 1em;">
         <a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">▼</a>
        </td>
        <td></td>
        <td>
         <a href="Lectures.html" class="tocviewlink" data-pltdoc="x">Lectures</a>
        </td>
       </tr>
      </tbody>
     </table>
     <div class="tocviewsublist" style="display: block;" id="tocview_1">
      <table cellspacing="0" cellpadding="0">
       <tbody>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture1.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 1:</span> Data Definitions in Java</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture2.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 2:</span> Data Definitions:<span class="mywbr"> &nbsp;</span> Unions</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture3.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 3:</span> Methods for simple classes</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture4.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 4:</span> Methods for unions</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture5.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 5:</span> Methods for self-<wbr>referential lists</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture6.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 6:</span> Accumulator methods</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture7.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 7:</span> Accumulator methods, continued</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture8.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 8:</span> Practice Design</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture9.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 9:</span> Abstract classes and inheritance</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture10.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 10:</span> Customizing constructors for correctness and convenience</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture11.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 11:</span> Defining sameness for complex data, part 1</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture12.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 12:</span> Defining sameness for complex data, part 2</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture13.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 13:</span> Abstracting over behavior</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture14.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 14:</span> Abstractions over more than one argument</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture15.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 15:</span> Abstracting over types</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture16.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 16:</span> Visitors</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture17.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 17:</span> Mutation</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture18.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 18:</span> Mutation inside structures</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture19.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 19:</span> Mutation, aliasing and testing</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture20.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 20:</span> Mutable data structures</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture21.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 21:</span> Array<span class="mywbr"> &nbsp;</span>Lists</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture22.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 22:</span> Array<span class="mywbr"> &nbsp;</span>Lists</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture23.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 23:</span> For-<wbr>each loops and Counted-<wbr>for loops</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="" class="tocviewselflink" data-pltdoc="x"><span class="LectureNum">Lecture 24:</span> While loops</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture25.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 25:</span> Iterator and Iterable</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture26.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 26:</span> Hashing and Equality</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture27.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 27:</span> Introduction to Big-<span style="font-style: italic">O</span> Analysis</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture28.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 28:</span> Quicksort and Mergesort</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture29.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 29:</span> Priority Queues and Heapsort</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture30.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 30:</span> Breadth-<wbr>first search and Depth-<wbr>first search on graphs</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture31.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 31:</span> Dijkstra’s Algorithm for single-<wbr>source shortest paths</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture32.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 32:</span> Minimum Spanning Trees</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture33.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 33:</span> Implementing Objects</a>
         </td>
        </tr>
       </tbody>
      </table>
     </div>
    </div>
    <div class="tocviewlist">
     <table cellspacing="0" cellpadding="0">
      <tbody>
       <tr>
        <td style="width: 1em;">
         <a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_2&quot;);">►</a>
        </td>
        <td></td>
        <td>
         <a href="" class="tocviewselflink" data-pltdoc="x"><span class="LectureNum">Lecture 24:</span> While loops</a>
        </td>
       </tr>
      </tbody>
     </table>
     <div class="tocviewsublistbottom" style="display: none;" id="tocview_2">
      <table cellspacing="0" cellpadding="0">
       <tbody>
        <tr>
         <td align="right">
          24.1&nbsp;
         </td>
         <td>
          <a href="#%28part._.While_loops%29" class="tocviewlink" data-pltdoc="x">While loops</a>
         </td>
        </tr>
        <tr>
         <td align="right">
          24.2&nbsp;
         </td>
         <td>
          <a href="#%28part._.Discussion%29" class="tocviewlink" data-pltdoc="x">Discussion</a>
         </td>
        </tr>
       </tbody>
      </table>
     </div>
    </div>
   </div>
   <div class="tocsub">
    <div class="tocsubtitle">
     On this page:
    </div>
    <table class="tocsublist" cellspacing="0">
     <tbody>
      <tr>
       <td>
        <span class="tocsublinknumber">24.1
        <tt>
         &nbsp;
        </tt>
       </span>
       <a href="#%28part._.While_loops%29" class="tocsubseclink" data-pltdoc="x">While loops</a>
      </td>
     </tr>
     <tr>
      <td>
       <span class="tocsublinknumber">24.1.1
       <tt>
        &nbsp;
       </tt>
      </span>
      <a href="#%28part._.Translating_a_counted-for_loop_into_a_while_loop%29" class="tocsubseclink" data-pltdoc="x">Translating a counted-<wbr>for loop into a while loop</a>
     </td>
    </tr>
    <tr>
     <td>
      <span class="tocsublinknumber">24.1.2
      <tt>
       &nbsp;
      </tt>
     </span>
     <a href="#%28part._.The_3n_1_problem%29" class="tocsubseclink" data-pltdoc="x">The <span style="font-style: italic"></span>3<span style="font-style: italic">n+</span>1<span style="font-style: italic"></span> problem</a>
    </td>
   </tr>
   <tr>
    <td>
     <span class="tocsublinknumber">24.1.3
     <tt>
      &nbsp;
     </tt>
    </span>
    <a href="#%28part._.Big-bang%29" class="tocsubseclink" data-pltdoc="x">Big-<wbr>bang</a>
   </td>
  </tr>
  <tr>
   <td>
    <span class="tocsublinknumber">24.2
    <tt>
     &nbsp;
    </tt>
   </span>
   <a href="#%28part._.Discussion%29" class="tocsubseclink" data-pltdoc="x">Discussion</a>
  </td>
 </tr>
</tbody>
</table>
</div>
</div>
<div class="maincolumn">
<div class="main">
<div class="versionbox">
<span class="version">8.14</span>
</div>
<div class="navsettop">
<span class="navleft">
<div class="nosearchform"></div>
&nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span>
</span>
<span class="navright">&nbsp;&nbsp;<a href="lecture23.html" title="backward to &quot;Lecture 23: For-each loops and Counted-for loops&quot;" data-pltdoc="x" rel="prev">← prev</a>&nbsp;&nbsp;<a href="Lectures.html" title="up to &quot;Lectures&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="lecture25.html" title="forward to &quot;Lecture 25: Iterator and Iterable&quot;" data-pltdoc="x" rel="next">next →</a></span>&nbsp;
</div>
<h4 class="heading">
<a name="(part._)"></a><span class="LectureNum">Lecture 24:</span> While loops<span class="button-group"><a href="#(part._)" class="heading-anchor" title="Link to here">🔗</a><span style="visibility: hidden"> </span></span>
</h4>
<p class="boxed">
While loops for unbounded iteration
</p>
<h5 class="heading">
24.1
<tt>
&nbsp;
</tt>
<a name="(part._.While_loops)"></a>While loops<span class="button-group"><a href="#(part._.While_loops)" class="heading-anchor" title="Link to here">🔗</a><span style="visibility: hidden"> </span></span>
</h5>
<p>
In the last few lectures we’ve been discussing looping constructs, which let us
repeat a block of statements some number of times.  The for-each loop let us
repeat the block once per item in an <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">ArrayList</span><span class="RktMeta"></span></span></span>, while the counted-for
loop let us repeat the block for each value of some index variable as it counted
from a starting value to a final value. There is one more loop construct in Java,
which is more flexible than either the for-each loop or the counted-for loop, known
as a <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjKeyword">while</span><span class="RktMeta"></span></span></span> loop.
</p>
<p>
A <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjKeyword">while</span><span class="RktMeta"></span></span></span> loop simply repeats a block of code for as long as its termination
condition remains true:
</p>
<div class="JavaHighlightBlock">
<blockquote class="SCodeFlow">
<table cellspacing="0" cellpadding="0" class="RktBlk">
 <tbody>
  <tr>
   <td>
    <span class="RktMeta"></span><span class="ProfjKeyword">while</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">(</span><span class="ProfjIdentifier">someBooleanExpression</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span>
   </td>
  </tr>
  <tr>
   <td>
    <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjDefault">.</span><span class="ProfjDefault">.</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">body</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">of</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">loop</span><span class="ProfjDefault">.</span><span class="ProfjDefault">.</span><span class="ProfjDefault">.</span><span class="RktMeta"></span>
   </td>
  </tr>
  <tr>
   <td>
    <span class="RktMeta"></span><span class="ProfjKeyword">}</span><span class="RktMeta"></span>
   </td>
  </tr>
 </tbody>
</table>
</blockquote>
</div>
<p></p>
<div class="SIntrapara">
The execution of this loop is completely straightforward: first, it evaluates whether <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">someBooleanExpression</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="RktMeta"></span></span></span> is
true.  If it is, it executes the body.  Then it repeats.  As soon as the condition evaluates to false,
the loop stops.  This means that if the condition immediately evaluates to false, the loop never runs.
For example, this code does not produce an error:
</div>
<div class="SIntrapara">
<div class="JavaHighlightBlock">
<blockquote class="SCodeFlow">
 <table cellspacing="0" cellpadding="0" class="RktBlk">
  <tbody>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjKeyword">while</span><span class="ProfjKeyword">(</span><span class="ProfjLiteral">false</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjIdentifier">doSomethingWith</span><span class="ProfjKeyword">(</span><span class="ProfjLiteral">1</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">/</span><span class="ProfjWhiteSpace"> </span><span class="ProfjLiteral">0</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjKeyword">}</span><span class="RktMeta"></span>
    </td>
   </tr>
  </tbody>
 </table>
</blockquote>
</div>
</div>
<div class="SIntrapara">
Since the condition is false, the body never executes, and in particular the division-by-zero does not happen.
</div>
<p></p>
<p>
To show that while loops are more flexible than the other forms of loops, we first show how to use
this loop to express the exact same computation as a counted-for loop.  Then, we
give examples of loops that cannot be expressed as counted-for loops.
</p>
<h5 class="heading">
24.1.1
<tt>
&nbsp;
</tt>
<a name="(part._.Translating_a_counted-for_loop_into_a_while_loop)"></a>Translating a counted-for loop into a while loop<span class="button-group"><a href="#(part._.Translating_a_counted-for_loop_into_a_while_loop)" class="heading-anchor" title="Link to here">🔗</a><span style="visibility: hidden"> </span></span>
</h5>
<p></p>
<div class="SIntrapara">
Consider a typical counted-for loop:
</div>
<div class="SIntrapara">
<div class="JavaHighlightBlock">
<blockquote class="SCodeFlow">
 <table cellspacing="0" cellpadding="0" class="RktBlk">
  <tbody>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjKeyword">for</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">(</span><span class="ProfjPrimType">int</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">idxVar</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">=</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">start</span><span class="ProfjDefault">;</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">idxVar</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">&lt;</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">end</span><span class="ProfjDefault">;</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">idxVar</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">=</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">idxVar</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">+</span><span class="ProfjWhiteSpace"> </span><span class="ProfjLiteral">1</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjDefault">.</span><span class="ProfjDefault">.</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">body</span><span class="ProfjDefault">.</span><span class="ProfjDefault">.</span><span class="ProfjDefault">.</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjKeyword">}</span><span class="RktMeta"></span>
    </td>
   </tr>
  </tbody>
 </table>
</blockquote>
</div>
</div>
<div class="SIntrapara">
(As we saw in the last lecture, the termination condition could be more flexible; the update statement
could count by numbers other than 1, etc., but the general structure of the loop is relatively typical.)
</div>
<p></p>
<p></p>
<div class="SIntrapara">
How could we express this as a while loop?  For a start, the meaning of the termination condition of a counted-for loop
matches the meaning of the termination condition of a while loop: as soon as they’re false, the loops terminate.  So
we can start our translation by sketching out
</div>
<div class="SIntrapara">
<div class="JavaHighlightBlock">
<blockquote class="SCodeFlow">
 <table cellspacing="0" cellpadding="0" class="RktBlk">
  <tbody>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjDefault">.</span><span class="ProfjDefault">.</span><span class="ProfjDefault">.</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjKeyword">while</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">(</span><span class="ProfjIdentifier">idxVar</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">&lt;</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">end</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjDefault">.</span><span class="ProfjDefault">.</span><span class="ProfjDefault">.</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjKeyword">}</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjDefault">.</span><span class="ProfjDefault">.</span><span class="ProfjDefault">.</span><span class="RktMeta"></span>
    </td>
   </tr>
  </tbody>
 </table>
</blockquote>
</div>
</div>
<div class="SIntrapara">
Every time the counted-for loop iterates, it first executes the termination condition, then the body, then the update statement.
This implies we can refine our sketch as:
</div>
<div class="SIntrapara">
<div class="JavaHighlightBlock">
<blockquote class="SCodeFlow">
 <table cellspacing="0" cellpadding="0" class="RktBlk">
  <tbody>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjDefault">.</span><span class="ProfjDefault">.</span><span class="ProfjDefault">.</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjKeyword">while</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">(</span><span class="ProfjIdentifier">idxVar</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">&lt;</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">end</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjDefault">.</span><span class="ProfjDefault">.</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">body</span><span class="ProfjDefault">.</span><span class="ProfjDefault">.</span><span class="ProfjDefault">.</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjIdentifier">idxVar</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">=</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">idxVar</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">+</span><span class="ProfjWhiteSpace"> </span><span class="ProfjLiteral">1</span><span class="ProfjDefault">;</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjKeyword">}</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjDefault">.</span><span class="ProfjDefault">.</span><span class="ProfjDefault">.</span><span class="RktMeta"></span>
    </td>
   </tr>
  </tbody>
 </table>
</blockquote>
</div>
</div>
<div class="SIntrapara">
The only other piece to a counted-for loop is the initialization statement, which we can just write before our while loop.
There is nothing particular to a counted-for loop that happens after the loop terminates, so our final translation
of the loop is
</div>
<div class="SIntrapara">
<div class="JavaHighlightBlock">
<blockquote class="SCodeFlow">
 <table cellspacing="0" cellpadding="0" class="RktBlk">
  <tbody>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjPrimType">int</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">idxVar</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">=</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">start</span><span class="ProfjDefault">;</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjKeyword">while</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">(</span><span class="ProfjIdentifier">idxVar</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">&lt;</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">end</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjDefault">.</span><span class="ProfjDefault">.</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">body</span><span class="ProfjDefault">.</span><span class="ProfjDefault">.</span><span class="ProfjDefault">.</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjIdentifier">idxVar</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">=</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">idxVar</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">+</span><span class="ProfjWhiteSpace"> </span><span class="ProfjLiteral">1</span><span class="ProfjDefault">;</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjKeyword">}</span><span class="RktMeta"></span>
    </td>
   </tr>
  </tbody>
 </table>
</blockquote>
</div>
</div>
<p></p>
<p>
All four pieces of the counted-for loop are present (initialization, termination condition, body, and update statement),
and they serve exactly the same purpose within this style of while loop as they do in a counted-for loop.
</p>
<blockquote class="IncerciseBody">
<p></p>
<div class="SIntrapara">
<p class="Incercise">
 Do Now!
</p>
</div>
<div class="SIntrapara">
Translate the code of <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">findMin</span><span class="RktMeta"></span></span></span> to use a while loop instead of a counted-for loop.
</div>
<p></p>
</blockquote>
<p>
But when can while loops be more general?
</p>
<h5 class="heading">
24.1.2
<tt>
&nbsp;
</tt>
<a name="(part._.The_3n_1_problem)"></a>The <span style="font-style: italic"></span>3<span style="font-style: italic">n+</span>1<span style="font-style: italic"></span> problem<span class="button-group"><a href="#(part._.The_3n_1_problem)" class="heading-anchor" title="Link to here">🔗</a><span style="visibility: hidden"> </span></span>
</h5>
<p></p>
<div class="SIntrapara">
<blockquote class="refpara">
<blockquote class="refcolumn">
 <blockquote class="refcontent">
  <p>
   This puzzle is properly known as the <a href="https://en.wikipedia.org/wiki/Collatz_conjecture">Collatz conjecture</a>,
and is an unsolved problem in pure mathematics.
  </p>
 </blockquote>
</blockquote>
</blockquote>
</div>
<div class="SIntrapara">
Consider the following mathematical function, defined on positive integers:
</div>
<div class="SIntrapara">
<p type="math/tex" style="white-space: pre;" class="stt">
\begin{equation*}f(n) = \begin{cases}
         n / 2  &amp;\text{when $n$ is even} \\
         3n + 1 &amp;\text{when $n$ is odd}
       \end{cases}\end{equation*}
</p>
</div>
<div class="SIntrapara">
For any given number, say \(9\), compute \(f(9)\), \(f(f(9))\), etc.
The puzzle is this: Will this process always reach \(1\) for every value of \(n\)?  In this example,
</div>
<div class="SIntrapara">
<table cellspacing="0" cellpadding="0" class="SVerbatim">
<tbody>
 <tr>
  <td>
   <p>
    <span class="stt">9 -&gt; 28 -&gt; 14 -&gt; 7 -&gt; 22 -&gt; 11 -&gt; 34 -&gt; 17 -&gt; 52 -&gt; 26</span>
   </p>
  </td>
 </tr>
 <tr>
  <td>
   <p>
    <span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">-&gt; 13 -&gt; 40 -&gt; 20 -&gt; 10 -&gt; 5 -&gt; 16 -&gt; 8 -&gt; 4 -&gt; 2 -&gt; 1</span>
   </p>
  </td>
 </tr>
</tbody>
</table>
</div>
<div class="SIntrapara">
so we do reach \(1\).  Eventually.  The number of steps it takes to reach \(1\) is largely unrelated to the size of \(n\) (it takes longer to get to \(1\)
from \(9\) than it does from \(11\)), and can grow enormously even for small numbers (try starting with 27).
</div>
<p></p>
<p></p>
<div class="SIntrapara">
How might we implement this in Java?  Clearly, some form of looping is going on, but which form of loop?
We certainly can’t use a for-each loop, since we don’t have an <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">ArrayList</span><span class="RktMeta"></span></span></span> of elements to iterate over.
And we can’t use a counted-for loop, because we don’t know in advance how many times the loop needs to iterate.
But a while loop looks perfect for the job:
</div>
<div class="SIntrapara">
<div class="JavaHighlightBlock">
<blockquote class="SCodeFlow">
 <table cellspacing="0" cellpadding="0" class="RktBlk">
  <tbody>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjComment">// In some Utils class
</span><span class="ProfjPrimType">boolean</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">getsToOne</span><span class="ProfjKeyword">(</span><span class="ProfjPrimType">int</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">n</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">while</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">(</span><span class="ProfjIdentifier">n</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">&gt;</span><span class="ProfjWhiteSpace"> </span><span class="ProfjLiteral">1</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjWhiteSpace">    </span><span class="ProfjKeyword">if</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">(</span><span class="ProfjIdentifier">n</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">%</span><span class="ProfjWhiteSpace"> </span><span class="ProfjLiteral">2</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">==</span><span class="ProfjWhiteSpace"> </span><span class="ProfjLiteral">0</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjWhiteSpace">      </span><span class="ProfjIdentifier">n</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">=</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">n</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">/</span><span class="ProfjWhiteSpace"> </span><span class="ProfjLiteral">2</span><span class="ProfjDefault">;</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjWhiteSpace">    </span><span class="ProfjKeyword">}</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjWhiteSpace">    </span><span class="ProfjKeyword">else</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjWhiteSpace">      </span><span class="ProfjIdentifier">n</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">=</span><span class="ProfjWhiteSpace"> </span><span class="ProfjLiteral">3</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">*</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">n</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">+</span><span class="ProfjWhiteSpace"> </span><span class="ProfjLiteral">1</span><span class="ProfjDefault">;</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjWhiteSpace">    </span><span class="ProfjKeyword">}</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">}</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">return</span><span class="ProfjWhiteSpace"> </span><span class="ProfjLiteral">true</span><span class="ProfjDefault">;</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjKeyword">}</span><span class="RktMeta"></span>
    </td>
   </tr>
  </tbody>
 </table>
</blockquote>
</div>
</div>
<div class="SIntrapara">
Notice that we never return <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjLiteral">false</span><span class="RktMeta"></span></span></span>...but we’re also never guaranteed to actually <span class="emph">reach</span> the <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjKeyword">return</span><span class="ProfjWhiteSpace"> </span><span class="ProfjLiteral">true</span><span class="RktMeta"></span></span></span> statement.
(To properly return <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjLiteral">false</span><span class="RktMeta"></span></span></span> from this function, we’d need to keep track of the list of all numbers we’ve seen, and if we
see a number more than once, return <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjLiteral">false</span><span class="RktMeta"></span></span></span> because we’ve entered a cycle.)
</div>
<div class="SIntrapara">
<blockquote class="ExerciseBody">
<p></p>
<div class="SIntrapara">
 <p class="Exercise">
  Exercise
 </p>
</div>
<div class="SIntrapara">
 Try elaborating the function above to keep track of this extra information.
</div>
<p></p>
</blockquote>
</div>
<p></p>
<h5 class="heading">
24.1.3
<tt>
&nbsp;
</tt>
<a name="(part._.Big-bang)"></a>Big-bang<span class="button-group"><a href="#(part._.Big-bang)" class="heading-anchor" title="Link to here">🔗</a><span style="visibility: hidden"> </span></span>
</h5>
<p>
How does the big-bang library work?  Conceptually, it takes an initial world and invokes the <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">makeImage</span><span class="RktMeta"></span></span></span>
method to create an image from it, then invokes the <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">onTick</span><span class="RktMeta"></span></span></span> method to get the next work, and then repeats
these two steps until the <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">worldEnds</span><span class="RktMeta"></span></span></span> method returns true.  This sounds like looping behavior, but it
cannot possibly be a counted-for loop, since the game can last an indefinite amount of time, and we’re not
counting any particular index, but rather updating a world from one value to the next.  This is a perfect
use of a while loop.  In fact, this style of using a while loop to repeatedly handle events (such as keypresses
or mouse clicks) is at the core of almost every operating system, browser, game console, or other system that
deals with interactivity.
</p>
<h5 class="heading">
24.2
<tt>
&nbsp;
</tt>
<a name="(part._.Discussion)"></a>Discussion<span class="button-group"><a href="#(part._.Discussion)" class="heading-anchor" title="Link to here">🔗</a><span style="visibility: hidden"> </span></span>
</h5>
<p>
When should we use each of these three loop types?  After all, if every for-each loop over <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">ArrayList</span><span class="RktMeta"></span></span></span>s can
be rewritten to use a counted-for loop, and every counted-for loop can be rewritten to use while loops, why bother
with the other two loops?
</p>
<p>
To a large extent, this is an aesthetic choice, and programmers largely have come to consensus on when it is
appropriate to use each of these loops.  The shortest guideline is, “use the simplest form loop that works”.
If a problem can be expressed as a computation over the particular items of an <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">ArrayList</span><span class="RktMeta"></span></span></span>, use a for-each loop.
If the problem requires specifically manipulating indices, or counting for whatever reason, use a counted-for loop.
If the number of iterations of the loop is not known <span class="emph">a priori</span>, use a while loop.
</p>
<p>
Additionally, as we will see in the next lecture, for-each loops are in fact more general than just working with
<span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">ArrayList</span><span class="RktMeta"></span></span></span>s, and we will encounter additional reasons to use them.
</p>
<div class="navsetbottom">
<span class="navleft">
<div class="nosearchform"></div>
&nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span>
</span>
<span class="navright">&nbsp;&nbsp;<a href="lecture23.html" title="backward to &quot;Lecture 23: For-each loops and Counted-for loops&quot;" data-pltdoc="x" rel="prev">← prev</a>&nbsp;&nbsp;<a href="Lectures.html" title="up to &quot;Lectures&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="lecture25.html" title="forward to &quot;Lecture 25: Iterator and Iterable&quot;" data-pltdoc="x" rel="next">next →</a></span>&nbsp;
</div>
</div>
</div>
<div id="contextindicator">
&nbsp;
</div>
</body>
</html>
