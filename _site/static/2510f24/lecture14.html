<!DOCTYPE html>
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  <script type="text/x-mathjax-config">
   MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX", "output/HTML-CSS"],
  tex2jax: {
    inlineMath: [ ["$","$"], ["\\(","\\)"] ],
    displayMath: [ ["$$","$$"], 
                   ["\\[","\\]"], 
                   ["\\begin{equation}","\\end{equation}"], 
                   ["\\begin{equation*}","\\end{equation*}"] ],
    processEscapes: true,
    ignoreClass: "tex2jax_ignore|JavaHighlightBlock|JavaHighlight"
  },
  "HTML-CSS": {
    availableFonts: [],
    webFont: "Asana-Math",
    preferredFont: "Asana-Math",
    imageFont: null,
    mtexFontInherit: true
  }
});
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  <script src="codemirror.js"></script>
  <script src="python.js"></script>
  <script src="runmode.js"></script>
  <script src="setup-page.js"></script>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=0.8">
  <title>
   dbp.io
  </title>
  <link rel="stylesheet" type="text/css" href="scribble.css" title="default">
  <link rel="stylesheet" type="text/css" href="racket.css" title="default">
  <link rel="stylesheet" type="text/css" href="manual-style.css" title="default">
  <link rel="stylesheet" type="text/css" href="manual-racket.css" title="default">
  <link rel="stylesheet" type="text/css" href="extra-styles.css" title="default">
  <link rel="stylesheet" type="text/css" href="codemirror.css" title="default">
  <script type="text/javascript" src="scribble-common.js"></script>
  <script type="text/javascript" src="manual-racket.js"></script>
 </head>
 <body id="scribble-racket-lang-org">
  <div class="tocset">
   <div class="tocview">
    <div class="tocviewlist tocviewlisttopspace">
     <div class="tocviewtitle">
      <table cellspacing="0" cellpadding="0">
       <tbody>
        <tr>
         <td style="width: 1em;">
          <a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">►</a>
         </td>
         <td></td>
         <td>
          <a href="index.html" class="tocviewlink" data-pltdoc="x">Fundamentals II
<br>
Introduction to Class-<wbr>based Program Design</a>
         </td>
        </tr>
       </tbody>
      </table>
     </div>
     <div class="tocviewsublisttop" style="display: none;" id="tocview_0">
      <table cellspacing="0" cellpadding="0">
       <tbody>
        <tr>
         <td align="right"></td>
         <td>
          <a href="General.html" class="tocviewlink" data-pltdoc="x">General</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="Texts.html" class="tocviewlink" data-pltdoc="x">Texts</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="Lectures.html" class="tocviewselflink" data-pltdoc="x">Lectures</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="Syllabus.html" class="tocviewlink" data-pltdoc="x">Syllabus</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="Lab_Materials.html" class="tocviewlink" data-pltdoc="x">Lab Materials</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="Assignments.html" class="tocviewlink" data-pltdoc="x">Assignments</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="Pair_Programming_Overview.html" class="tocviewlink" data-pltdoc="x">Pair Programming Overview</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="code-style.html" class="tocviewlink" data-pltdoc="x">Code style</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="Documentation.html" class="tocviewlink" data-pltdoc="x">Documentation</a>
         </td>
        </tr>
       </tbody>
      </table>
     </div>
    </div>
    <div class="tocviewlist">
     <table cellspacing="0" cellpadding="0">
      <tbody>
       <tr>
        <td style="width: 1em;">
         <a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">▼</a>
        </td>
        <td></td>
        <td>
         <a href="Lectures.html" class="tocviewlink" data-pltdoc="x">Lectures</a>
        </td>
       </tr>
      </tbody>
     </table>
     <div class="tocviewsublist" style="display: block;" id="tocview_1">
      <table cellspacing="0" cellpadding="0">
       <tbody>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture1.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 1:</span> Data Definitions in Java</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture2.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 2:</span> Data Definitions:<span class="mywbr"> &nbsp;</span> Unions</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture3.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 3:</span> Methods for simple classes</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture4.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 4:</span> Methods for unions</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture5.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 5:</span> Methods for self-<wbr>referential lists</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture6.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 6:</span> Accumulator methods</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture7.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 7:</span> Accumulator methods, continued</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture8.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 8:</span> Practice Design</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture9.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 9:</span> Abstract classes and inheritance</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture10.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 10:</span> Customizing constructors for correctness and convenience</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture11.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 11:</span> Defining sameness for complex data, part 1</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture12.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 12:</span> Defining sameness for complex data, part 2</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture13.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 13:</span> Abstracting over behavior</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="" class="tocviewselflink" data-pltdoc="x"><span class="LectureNum">Lecture 14:</span> Abstractions over more than one argument</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture15.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 15:</span> Abstracting over types</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture16.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 16:</span> Visitors</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture17.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 17:</span> Mutation</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture18.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 18:</span> Mutation inside structures</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture19.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 19:</span> Mutation, aliasing and testing</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture20.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 20:</span> Mutable data structures</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture21.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 21:</span> Array<span class="mywbr"> &nbsp;</span>Lists</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture22.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 22:</span> Array<span class="mywbr"> &nbsp;</span>Lists</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture23.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 23:</span> For-<wbr>each loops and Counted-<wbr>for loops</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture24.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 24:</span> While loops</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture25.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 25:</span> Iterator and Iterable</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture26.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 26:</span> Hashing and Equality</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture27.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 27:</span> Introduction to Big-<span style="font-style: italic">O</span> Analysis</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture28.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 28:</span> Quicksort and Mergesort</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture29.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 29:</span> Priority Queues and Heapsort</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture30.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 30:</span> Breadth-<wbr>first search and Depth-<wbr>first search on graphs</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture31.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 31:</span> Dijkstra’s Algorithm for single-<wbr>source shortest paths</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture32.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 32:</span> Minimum Spanning Trees</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture33.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 33:</span> Implementing Objects</a>
         </td>
        </tr>
       </tbody>
      </table>
     </div>
    </div>
    <div class="tocviewlist">
     <table cellspacing="0" cellpadding="0">
      <tbody>
       <tr>
        <td style="width: 1em;">
         <a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_2&quot;);">►</a>
        </td>
        <td></td>
        <td>
         <a href="" class="tocviewselflink" data-pltdoc="x"><span class="LectureNum">Lecture 14:</span> Abstractions over more than one argument</a>
        </td>
       </tr>
      </tbody>
     </table>
     <div class="tocviewsublistbottom" style="display: none;" id="tocview_2">
      <table cellspacing="0" cellpadding="0">
       <tbody>
        <tr>
         <td align="right">
          14.1&nbsp;
         </td>
         <td>
          <a href="#%28part._.Finding_the_final_standings%29" class="tocviewlink" data-pltdoc="x">Finding the final standings</a>
         </td>
        </tr>
        <tr>
         <td align="right">
          14.2&nbsp;
         </td>
         <td>
          <a href="#%28part._.Three-valued_comparisons%29" class="tocviewlink" data-pltdoc="x">Three-<wbr>valued comparisons</a>
         </td>
        </tr>
        <tr>
         <td align="right">
          14.3&nbsp;
         </td>
         <td>
          <a href="#%28part._.Finding_the_winner_of_the_race__two_ways%29" class="tocviewlink" data-pltdoc="x">Finding the winner of the race, two ways</a>
         </td>
        </tr>
        <tr>
         <td align="right">
          14.4&nbsp;
         </td>
         <td>
          <a href="#%28part._.Computing_the_registration_roster__sorting_alphabetically%29" class="tocviewlink" data-pltdoc="x">Computing the registration roster:<span class="mywbr"> &nbsp;</span> sorting alphabetically</a>
         </td>
        </tr>
       </tbody>
      </table>
     </div>
    </div>
   </div>
   <div class="tocsub">
    <div class="tocsubtitle">
     On this page:
    </div>
    <table class="tocsublist" cellspacing="0">
     <tbody>
      <tr>
       <td>
        <span class="tocsublinknumber">14.1
        <tt>
         &nbsp;
        </tt>
       </span>
       <a href="#%28part._.Finding_the_final_standings%29" class="tocsubseclink" data-pltdoc="x">Finding the final standings</a>
      </td>
     </tr>
     <tr>
      <td>
       <span class="tocsublinknumber">14.2
       <tt>
        &nbsp;
       </tt>
      </span>
      <a href="#%28part._.Three-valued_comparisons%29" class="tocsubseclink" data-pltdoc="x">Three-<wbr>valued comparisons</a>
     </td>
    </tr>
    <tr>
     <td>
      <span class="tocsublinknumber">14.3
      <tt>
       &nbsp;
      </tt>
     </span>
     <a href="#%28part._.Finding_the_winner_of_the_race__two_ways%29" class="tocsubseclink" data-pltdoc="x">Finding the winner of the race, two ways</a>
    </td>
   </tr>
   <tr>
    <td>
     <span class="tocsublinknumber"></span><a href="#%28part._.The_easy_way%29" class="tocsubseclink" data-pltdoc="x">The easy way</a>
    </td>
   </tr>
   <tr>
    <td>
     <span class="tocsublinknumber">14.3.1
     <tt>
      &nbsp;
     </tt>
    </span>
    <a href="#%28part._.The_smarter_way%29" class="tocsubseclink" data-pltdoc="x">The smarter way</a>
   </td>
  </tr>
  <tr>
   <td>
    <span class="tocsublinknumber">14.4
    <tt>
     &nbsp;
    </tt>
   </span>
   <a href="#%28part._.Computing_the_registration_roster__sorting_alphabetically%29" class="tocsubseclink" data-pltdoc="x">Computing the registration roster:<span class="mywbr"> &nbsp;</span> sorting alphabetically</a>
  </td>
 </tr>
</tbody>
</table>
</div>
</div>
<div class="maincolumn">
<div class="main">
<div class="versionbox">
<span class="version">8.14</span>
</div>
<div class="navsettop">
<span class="navleft">
<div class="nosearchform"></div>
&nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span>
</span>
<span class="navright">&nbsp;&nbsp;<a href="lecture13.html" title="backward to &quot;Lecture 13: Abstracting over behavior&quot;" data-pltdoc="x" rel="prev">← prev</a>&nbsp;&nbsp;<a href="Lectures.html" title="up to &quot;Lectures&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="lecture15.html" title="forward to &quot;Lecture 15: Abstracting over types&quot;" data-pltdoc="x" rel="next">next →</a></span>&nbsp;
</div>
<h4 class="heading">
<a name="(part._)"></a><span class="LectureNum">Lecture 14:</span> Abstractions over more than one argument<span class="button-group"><a href="#(part._)" class="heading-anchor" title="Link to here">🔗</a><span style="visibility: hidden"> </span></span>
</h4>
<p class="boxed">
Comparison function objects
</p>
<p>
Let’s continue with our example of <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">Runner</span><span class="RktMeta"></span></span></span>s from <a href="lecture13.html" data-pltdoc="x">Lecture 13</a>.  Today we want to help
the race organizers find the final standings, find the winner of the race, and handle check-in
registration, which requires knowing the names of all the runners.
</p>
<blockquote class="IncerciseBody">
<p></p>
<div class="SIntrapara">
<p class="Incercise">
 Do Now!
</p>
</div>
<div class="SIntrapara">
What kinds of questions will we need to ask about <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">Runner</span><span class="RktMeta"></span></span></span>s to solve these
problems?
</div>
<p></p>
</blockquote>
<h5 class="heading">
14.1
<tt>
&nbsp;
</tt>
<a name="(part._.Finding_the_final_standings)"></a>Finding the final standings<span class="button-group"><a href="#(part._.Finding_the_final_standings)" class="heading-anchor" title="Link to here">🔗</a><span style="visibility: hidden"> </span></span>
</h5>
<p></p>
<div class="SIntrapara">
The final standings of the race are determined by how fast each <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">Runner</span><span class="RktMeta"></span></span></span> completed the race: in other words,
it is the list of <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">Runner</span><span class="RktMeta"></span></span></span>s as sorted by the <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">time</span><span class="RktMeta"></span></span></span>s.  We have seen several times how
to implement a <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">sort</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="RktMeta"></span></span></span> method to sort a list; but every time we did so, we narrowly hard-coded
the method to use a <span class="emph">particular</span> sort order.  Let’s revisit those methods, and abstract away
the sorting order so we have a more general-purpose sorting algorithm.
</div>
<div class="SIntrapara">
<blockquote class="IncerciseBody">
<p></p>
<div class="SIntrapara">
 <p class="Incercise">
  Do Now!
 </p>
</div>
<div class="SIntrapara">
 Reconstruct the insertion-sort algorithm, for a list of <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">Runner</span><span class="RktMeta"></span></span></span>s as sorted by their <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">time</span><span class="RktMeta"></span></span></span>s in increasing order.
</div>
<p></p>
</blockquote>
</div>
<div class="SIntrapara">
<div class="JavaHighlightBlock">
<blockquote class="SCodeFlow">
 <table cellspacing="0" cellpadding="0" class="RktBlk">
  <tbody>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjKeyword">interface</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">ILoRunner</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjType">ILoRunner</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">sortByTime</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjType">ILoRunner</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">insertByTime</span><span class="ProfjKeyword">(</span><span class="ProfjType">Runner</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">r</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjKeyword">}</span><span class="RktMeta"></span>
    </td>
   </tr>
  </tbody>
 </table>
</blockquote>
</div>
</div>
<div class="SIntrapara">
<div class="JavaHighlightBlock">
<blockquote class="SCodeFlow">
 <table cellspacing="0" cellpadding="0" class="RktBlk">
  <tbody>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjComment">// in MtLoRunner
</span><span class="ProfjKeyword">public</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">ILoRunner</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">sortByTime</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">return</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">this</span><span class="ProfjDefault">;</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">}</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjKeyword">public</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">ILoRunner</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">insertByTime</span><span class="ProfjKeyword">(</span><span class="ProfjType">Runner</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">r</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">return</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">new</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">ConsLoRunner</span><span class="ProfjKeyword">(</span><span class="ProfjIdentifier">r</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">this</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">}</span><span class="RktMeta"></span>
    </td>
   </tr>
  </tbody>
 </table>
</blockquote>
</div>
</div>
<div class="SIntrapara">
<div class="JavaHighlightBlock">
<blockquote class="SCodeFlow">
 <table cellspacing="0" cellpadding="0" class="RktBlk">
  <tbody>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjComment">// in ConsLoRunner
</span><span class="ProfjKeyword">public</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">ILoRunner</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">sortByTime</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">return</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">rest</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">sortByTime</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">insertByTime</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">first</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjKeyword">}</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjKeyword">public</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">ILoRunner</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">insertByTime</span><span class="ProfjKeyword">(</span><span class="ProfjType">Runner</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">r</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">if</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">first</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">finishesBefore</span><span class="ProfjKeyword">(</span><span class="ProfjIdentifier">r</span><span class="ProfjKeyword">)</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjWhiteSpace">    </span><span class="ProfjKeyword">return</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">new</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">ConsLoRunner</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">first</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">rest</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">insertByTime</span><span class="ProfjKeyword">(</span><span class="ProfjIdentifier">r</span><span class="ProfjKeyword">)</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">}</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">else</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjWhiteSpace">    </span><span class="ProfjKeyword">return</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">new</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">ConsLoRunner</span><span class="ProfjKeyword">(</span><span class="ProfjIdentifier">r</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">this</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">}</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjKeyword">}</span><span class="RktMeta"></span>
    </td>
   </tr>
  </tbody>
 </table>
</blockquote>
</div>
</div>
<div class="SIntrapara">
<div class="JavaHighlightBlock">
<blockquote class="SCodeFlow">
 <table cellspacing="0" cellpadding="0" class="RktBlk">
  <tbody>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjComment">// in Runner
</span><span class="ProfjPrimType">boolean</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">finishesBefore</span><span class="ProfjKeyword">(</span><span class="ProfjType">Runner</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">r</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">return</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">time</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">&lt;</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">r</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">time</span><span class="ProfjDefault">;</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">}</span><span class="RktMeta"></span>
    </td>
   </tr>
  </tbody>
 </table>
</blockquote>
</div>
</div>
<p></p>
<p>
But hard-coding <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">insertByTime</span><span class="RktMeta"></span></span></span> and <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">sortByTime</span><span class="RktMeta"></span></span></span> and even <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">finishesBefore</span><span class="RktMeta"></span></span></span> is inflexible;
we can see that this is likely to lead to duplication, just like our <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">find</span><span class="RktMeta"></span></span></span> methods in <a href="lecture13.html" data-pltdoc="x">Lecture 13</a>
did.  We should abstract away these details, and to do that,
we need to be able to <span class="emph">compare</span> two <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">Runner</span><span class="RktMeta"></span></span></span>s.  Our predicates from the previous lecture
won’t help, as they let us answer a boolean question about <span class="emph">one</span> <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">Runner</span><span class="RktMeta"></span></span></span>: they have the
wrong signature.
</p>
<p></p>
<div class="SIntrapara">
We therefore need to design a new interface for a new kind of function object: an <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">ICompareRunners</span><span class="RktMeta"></span></span></span>.
</div>
<div class="SIntrapara">
<blockquote class="IncerciseBody">
<p></p>
<div class="SIntrapara">
 <p class="Incercise">
  Do Now!
 </p>
</div>
<div class="SIntrapara">
 What signature should this interface define?
</div>
<p></p>
</blockquote>
</div>
<div class="SIntrapara">
<div class="JavaHighlightBlock">
<blockquote class="SCodeFlow">
 <table cellspacing="0" cellpadding="0" class="RktBlk">
  <tbody>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjKeyword">interface</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">ICompareRunners</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjComment">// Returns true if r1 comes before r2 according to this ordering
</span><span class="ProfjWhiteSpace">  </span><span class="ProfjPrimType">boolean</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">comesBefore</span><span class="ProfjKeyword">(</span><span class="ProfjType">Runner</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">r1</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">Runner</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">r2</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjKeyword">}</span><span class="RktMeta"></span>
    </td>
   </tr>
  </tbody>
 </table>
</blockquote>
</div>
</div>
<p></p>
<p></p>
<div class="SIntrapara">
We can then define a <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">CompareByTime</span><span class="RktMeta"></span></span></span> class that returns <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjLiteral">true</span><span class="RktMeta"></span></span></span> when the first provided <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">Runner</span><span class="RktMeta"></span></span></span>
ran a faster (i.e. smaller) <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">time</span><span class="RktMeta"></span></span></span> than the second.
</div>
<div class="SIntrapara">
<blockquote class="IncerciseBody">
<p></p>
<div class="SIntrapara">
 <p class="Incercise">
  Do Now!
 </p>
</div>
<div class="SIntrapara">
 Design this class.
</div>
<p></p>
</blockquote>
</div>
<div class="SIntrapara">
<div class="JavaHighlightBlock">
<blockquote class="SCodeFlow">
 <table cellspacing="0" cellpadding="0" class="RktBlk">
  <tbody>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjKeyword">class</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">CompareByTime</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">implements</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">ICompareRunners</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">public</span><span class="ProfjWhiteSpace"> </span><span class="ProfjPrimType">boolean</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">comesBefore</span><span class="ProfjKeyword">(</span><span class="ProfjType">Runner</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">r1</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">Runner</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">r2</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjWhiteSpace">    </span><span class="ProfjKeyword">return</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">r1</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">time</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">&lt;</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">r2</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">time</span><span class="ProfjDefault">;</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">}</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjKeyword">}</span><span class="RktMeta"></span>
    </td>
   </tr>
  </tbody>
 </table>
</blockquote>
</div>
</div>
<p></p>
<p></p>
<div class="SIntrapara">
<blockquote class="IncerciseBody">
<p></p>
<div class="SIntrapara">
 <p class="Incercise">
  Do Now!
 </p>
</div>
<div class="SIntrapara">
 Revise the sorting methods above to use this new abstraction.
</div>
<p></p>
</blockquote>
</div>
<div class="SIntrapara">
We add to our methods a parameter of type <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">ICompareRunners</span><span class="RktMeta"></span></span></span>, and remove the parts of
the code that explicitly refer to times:
</div>
<p></p>
<p></p>
<div class="SIntrapara">
<div class="JavaHighlightBlock">
<blockquote class="SCodeFlow">
 <table cellspacing="0" cellpadding="0" class="RktBlk">
  <tbody>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjKeyword">interface</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">ILoRunner</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjType">ILoRunner</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">sortBy</span><span class="ProfjKeyword">(</span><span class="ProfjType">ICompareRuners</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">comp</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjType">ILoRunner</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">insertBy</span><span class="ProfjKeyword">(</span><span class="ProfjType">ICompareRunners</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">comp</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">Runner</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">r</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjKeyword">}</span><span class="RktMeta"></span>
    </td>
   </tr>
  </tbody>
 </table>
</blockquote>
</div>
</div>
<div class="SIntrapara">
<div class="JavaHighlightBlock">
<blockquote class="SCodeFlow">
 <table cellspacing="0" cellpadding="0" class="RktBlk">
  <tbody>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjComment">// in MtLoRunner
</span><span class="ProfjKeyword">public</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">ILoRunner</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">sortBy</span><span class="ProfjKeyword">(</span><span class="ProfjType">ICompareRunners</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">comp</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">return</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">this</span><span class="ProfjDefault">;</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">}</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjKeyword">public</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">ILoRunner</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">insertBy</span><span class="ProfjKeyword">(</span><span class="ProfjType">ICompareRunners</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">comp</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">Runner</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">r</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">return</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">new</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">ConsLoRunner</span><span class="ProfjKeyword">(</span><span class="ProfjIdentifier">r</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">this</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjKeyword">}</span><span class="RktMeta"></span>
    </td>
   </tr>
  </tbody>
 </table>
</blockquote>
</div>
</div>
<div class="SIntrapara">
<div class="JavaHighlightBlock">
<blockquote class="SCodeFlow">
 <table cellspacing="0" cellpadding="0" class="RktBlk">
  <tbody>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjComment">// in ConsLoRunner
</span><span class="ProfjKeyword">public</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">ILoRunner</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">sortBy</span><span class="ProfjKeyword">(</span><span class="ProfjType">ICompareRunners</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">comp</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">return</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">rest</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">sortBy</span><span class="ProfjKeyword">(</span><span class="ProfjIdentifier">comp</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">insertBy</span><span class="ProfjKeyword">(</span><span class="ProfjIdentifier">comp</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">first</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjKeyword">}</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjKeyword">public</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">ILoRunner</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">insertBy</span><span class="ProfjKeyword">(</span><span class="ProfjType">ICompareRunners</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">comp</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">Runner</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">r</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">if</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">(</span><span class="ProfjIdentifier">comp</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">comesBefore</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">first</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">r</span><span class="ProfjKeyword">)</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjWhiteSpace">    </span><span class="ProfjKeyword">return</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">new</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">ConsLoRunner</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">first</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">rest</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">insertBy</span><span class="ProfjKeyword">(</span><span class="ProfjIdentifier">comp</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">r</span><span class="ProfjKeyword">)</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">}</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">else</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjWhiteSpace">    </span><span class="ProfjKeyword">return</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">new</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">ConsLoRunner</span><span class="ProfjKeyword">(</span><span class="ProfjIdentifier">r</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">this</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">}</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjKeyword">}</span><span class="RktMeta"></span>
    </td>
   </tr>
  </tbody>
 </table>
</blockquote>
</div>
</div>
<div class="SIntrapara">
<div class="JavaHighlightBlock">
<blockquote class="SCodeFlow">
 <table cellspacing="0" cellpadding="0" class="RktBlk">
  <tbody>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjComment">// in Runner
</span><span class="ProfjComment">// No more method finishesBefore!</span><span class="RktMeta"></span>
    </td>
   </tr>
  </tbody>
 </table>
</blockquote>
</div>
</div>
<p></p>
<p></p>
<div class="SIntrapara">
Now, instead of saying
</div>
<div class="SIntrapara">
<div class="JavaHighlightBlock">
<blockquote class="SCodeFlow">
 <table cellspacing="0" cellpadding="0" class="RktBlk">
  <tbody>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjIdentifier">marathon</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">sortByTime</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="RktMeta"></span>
    </td>
   </tr>
  </tbody>
 </table>
</blockquote>
</div>
</div>
<div class="SIntrapara">
, we would instead write
</div>
<div class="SIntrapara">
<div class="JavaHighlightBlock">
<blockquote class="SCodeFlow">
 <table cellspacing="0" cellpadding="0" class="RktBlk">
  <tbody>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjIdentifier">marathon</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">sortBy</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">new</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">CompareByTime</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="ProfjKeyword">)</span><span class="RktMeta"></span>
    </td>
   </tr>
  </tbody>
 </table>
</blockquote>
</div>
</div>
<div class="SIntrapara">
Read the original code as “take this <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">marathon</span><span class="RktMeta"></span></span></span> and sort it by time”.  Read the new
code as “take this <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">marathon</span><span class="RktMeta"></span></span></span> and sort it, comparing the <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">Runner</span><span class="RktMeta"></span></span></span>s by time”.
The latter sentence emphasizes the abstraction that we just achieved, separating the general-purpose
sorting operation from the particular ordering we are using.
</div>
<p></p>
<h5 class="heading">
14.2
<tt>
&nbsp;
</tt>
<a name="(part._.Three-valued_comparisons)"></a>Three-valued comparisons<span class="button-group"><a href="#(part._.Three-valued_comparisons)" class="heading-anchor" title="Link to here">🔗</a><span style="visibility: hidden"> </span></span>
</h5>
<p>
The <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">ICompareRunners</span><span class="RktMeta"></span></span></span> interface has one method, <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">comesBefore</span><span class="RktMeta"></span></span></span>,
that returns a <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjPrimType">boolean</span><span class="RktMeta"></span></span></span> value: either the first <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">Runner</span><span class="RktMeta"></span></span></span> comes before
the second or it doesn’t.  But that doesn’t quite give us enough information
to distinguish whether two <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">Runner</span><span class="RktMeta"></span></span></span>s <span class="emph">tied</span>, or whether the first <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">Runner</span><span class="RktMeta"></span></span></span>
comes after the second.
</p>
<p></p>
<div class="SIntrapara">
Said another way, we might want to produce a <span class="emph">three-valued</span> comparison: either the first <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">Runner</span><span class="RktMeta"></span></span></span>
comes before the second, is tied with the second, or comes after the second.  There
are only two distinct <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjPrimType">boolean</span><span class="RktMeta"></span></span></span> values, so to produce a three-way result, we need a different type of
data. Java picks a particularly convenient convention: it uses <span class="emph">integers</span> instead.
To distinguish this new convention from our existing one, we’ll define a new interface:
</div>
<div class="SIntrapara">
<div class="JavaHighlightBlock">
<blockquote class="SCodeFlow">
 <table cellspacing="0" cellpadding="0" class="RktBlk">
  <tbody>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjComment">// To compute a three-way comparison between two Runners
</span><span class="ProfjKeyword">interface</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">IRunnerComparator</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjComment">// Returns a negative number if r1 comes before r2 in this order
</span><span class="ProfjWhiteSpace">  </span><span class="ProfjComment">// Returns zero              if r1 is tied with r2 in this order
</span><span class="ProfjWhiteSpace">  </span><span class="ProfjComment">// Returns a positive number if r1 comes after  r2 in this order
</span><span class="ProfjWhiteSpace">  </span><span class="ProfjPrimType">int</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">compare</span><span class="ProfjKeyword">(</span><span class="ProfjType">Runner</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">r1</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">Runner</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">r2</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjKeyword">}</span><span class="RktMeta"></span>
    </td>
   </tr>
  </tbody>
 </table>
</blockquote>
</div>
</div>
<div class="SIntrapara">
(A mnemonic for the name: A <span class="emph">comparator</span> is something that can <span class="emph">compare</span>. A <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">IRunnerComparator</span><span class="RktMeta"></span></span></span>
is therefore something that can compare two <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">Runner</span><span class="RktMeta"></span></span></span>s.)
</div>
<p></p>
<p></p>
<div class="SIntrapara">
To adapt our <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">sortBy</span><span class="RktMeta"></span></span></span> method to use this new interface, we just need to change the use of <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">comesBefore</span><span class="RktMeta"></span></span></span>:
</div>
<div class="SIntrapara">
<div class="JavaHighlightBlock">
<blockquote class="SCodeFlow">
 <table cellspacing="0" cellpadding="0" class="RktBlk">
  <tbody>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjComment">// In ConsLoRunner
</span><span class="ProfjKeyword">public</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">ILoRunner</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">insertBy</span><span class="ProfjKeyword">(</span><span class="ProfjType">IRunnerComparator</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">comp</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">Runner</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">r</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjComment">// comp.compare will return a negative number if its first argument comes first
</span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">if</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">(</span><span class="ProfjIdentifier">comp</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">compare</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">first</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">r</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">&lt;</span><span class="ProfjWhiteSpace"> </span><span class="ProfjLiteral">0</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjWhiteSpace">    </span><span class="ProfjKeyword">return</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">new</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">ConsLoRunner</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">first</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">rest</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">insertBy</span><span class="ProfjKeyword">(</span><span class="ProfjIdentifier">comp</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">r</span><span class="ProfjKeyword">)</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">}</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">else</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjWhiteSpace">    </span><span class="ProfjKeyword">return</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">new</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">ConsLoRunner</span><span class="ProfjKeyword">(</span><span class="ProfjIdentifier">r</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">this</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">}</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjKeyword">}</span><span class="RktMeta"></span>
    </td>
   </tr>
  </tbody>
 </table>
</blockquote>
</div>
</div>
<p></p>
<p></p>
<div class="SIntrapara">
Modifying our <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">CompareByTime</span><span class="RktMeta"></span></span></span> class is also straightforward.  The purpose statement
for the <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">compare</span><span class="RktMeta"></span></span></span> method suggests we might want a three-way <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjKeyword">if</span><span class="RktMeta"></span></span></span>-statement:
</div>
<div class="SIntrapara">
<div class="JavaHighlightBlock">
<blockquote class="SCodeFlow">
 <table cellspacing="0" cellpadding="0" class="RktBlk">
  <tbody>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjKeyword">class</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">CompareByTime</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">implements</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">IRunnerComparator</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">public</span><span class="ProfjWhiteSpace"> </span><span class="ProfjPrimType">int</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">compare</span><span class="ProfjKeyword">(</span><span class="ProfjType">Runner</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">r1</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">Runner</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">r2</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjWhiteSpace">    </span><span class="ProfjKeyword">if</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">(</span><span class="ProfjIdentifier">r1</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">time</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">&lt;</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">r2</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">time</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace">       </span><span class="ProfjKeyword">{</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">return</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">-</span><span class="ProfjLiteral">1</span><span class="ProfjDefault">;</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">}</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjWhiteSpace">    </span><span class="ProfjKeyword">else</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">if</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">(</span><span class="ProfjIdentifier">r1</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">time</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">==</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">r2</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">time</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">return</span><span class="ProfjWhiteSpace"> </span><span class="ProfjLiteral">0</span><span class="ProfjDefault">;</span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">}</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjWhiteSpace">    </span><span class="ProfjKeyword">else</span><span class="ProfjWhiteSpace">                         </span><span class="ProfjKeyword">{</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">return</span><span class="ProfjWhiteSpace"> </span><span class="ProfjLiteral">1</span><span class="ProfjDefault">;</span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">}</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">}</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjKeyword">}</span><span class="RktMeta"></span>
    </td>
   </tr>
  </tbody>
 </table>
</blockquote>
</div>
</div>
<p></p>
<p></p>
<div class="SIntrapara">
This works just fine.  It’s worth noting, however, that the purpose statement of the <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">compare</span><span class="RktMeta"></span></span></span>
method offers a greater flexibility that we can take advantage of: we don’t have to return
specifically <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjKeyword">-</span><span class="ProfjLiteral">1</span><span class="RktMeta"></span></span></span>, <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjLiteral">0</span><span class="RktMeta"></span></span></span>, or <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjLiteral">1</span><span class="RktMeta"></span></span></span>; we can return <span class="emph">any</span> negative number, 0, or <span class="emph">any</span>
positive number.
</div>
<div class="SIntrapara">
<blockquote class="IncerciseBody">
<p></p>
<div class="SIntrapara">
 <p class="Incercise">
  Do Now!
 </p>
</div>
<div class="SIntrapara">
 Can you simplify the method above, given this flexibility and given that here we’re essentially
comparing two <span class="emph">numbers</span>?
</div>
<p></p>
</blockquote>
</div>
<div class="SIntrapara">
<div class="JavaHighlightBlock">
<blockquote class="SCodeFlow">
 <table cellspacing="0" cellpadding="0" class="RktBlk">
  <tbody>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjKeyword">class</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">CompareByTime</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">implements</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">IRunnerComparator</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">public</span><span class="ProfjWhiteSpace"> </span><span class="ProfjPrimType">int</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">compare</span><span class="ProfjKeyword">(</span><span class="ProfjType">Runner</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">r1</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">Runner</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">r2</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjWhiteSpace">    </span><span class="ProfjKeyword">return</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">r1</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">time</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">-</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">r2</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">time</span><span class="ProfjDefault">;</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">}</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjKeyword">}</span><span class="RktMeta"></span>
    </td>
   </tr>
  </tbody>
 </table>
</blockquote>
</div>
</div>
<div class="SIntrapara">
If <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">r1</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">time</span><span class="RktMeta"></span></span></span> is less than <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">r2</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">time</span><span class="RktMeta"></span></span></span>, the difference above is negative;
if <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">r1</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">time</span><span class="RktMeta"></span></span></span> is greater, the difference is positive; and if the two times are equal, the difference is zero —<wbr> exactly
as the purpose statement requires.  (This is why Java allows such flexibility in the return values: precisely to
allow this simple “trick” for implementing comparators.)
</div>
<p></p>
<h5 class="heading">
14.3
<tt>
&nbsp;
</tt>
<a name="(part._.Finding_the_winner_of_the_race__two_ways)"></a>Finding the winner of the race, two ways<span class="button-group"><a href="#(part._.Finding_the_winner_of_the_race__two_ways)" class="heading-anchor" title="Link to here">🔗</a><span style="visibility: hidden"> </span></span>
</h5>
<h5 class="heading">
<a name="(part._.The_easy_way)"></a>The easy way<span class="button-group"><a href="#(part._.The_easy_way)" class="heading-anchor" title="Link to here">🔗</a><span style="visibility: hidden"> </span></span>
</h5>
<p></p>
<div class="SIntrapara">
The winner of a marathon is the <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">Runner</span><span class="RktMeta"></span></span></span> who finishes with the fastest <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">time</span><span class="RktMeta"></span></span></span>.
</div>
<div class="SIntrapara">
<blockquote class="IncerciseBody">
<p></p>
<div class="SIntrapara">
 <p class="Incercise">
  Do Now!
 </p>
</div>
<div class="SIntrapara">
 How much of our code above can we reuse to solve this new question?
</div>
<p></p>
</blockquote>
</div>
<div class="SIntrapara">
If we try sorting the list of <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">Runner</span><span class="RktMeta"></span></span></span>s by <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">time</span><span class="RktMeta"></span></span></span>, then the winner should simply
be the <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">Runner</span><span class="RktMeta"></span></span></span> at the front of the resulting sorted list.  So as an intuitive first
guess, we might try <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">marathon</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">sortBy</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">new</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">CompareByTime</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">first</span><span class="RktMeta"></span></span></span> ...but this
will fail to typecheck, and in fact is problematic for two related reasons.  First,
the result of sorting an <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">ILoRunner</span><span class="RktMeta"></span></span></span> is always another <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">ILoRunner</span><span class="RktMeta"></span></span></span>, and the <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">ILoRunner</span><span class="RktMeta"></span></span></span>
interface does not have a <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">first</span><span class="RktMeta"></span></span></span> field.  Second, finding “the winner” of a marathon
is only well-defined if the marathon is not an empty list.  So we might try writing the following:
</div>
<p></p>
<div class="JavaHighlightBlock">
<blockquote class="SCodeFlow">
<table cellspacing="0" cellpadding="0" class="RktBlk">
 <tbody>
  <tr>
   <td>
    <span class="RktMeta"></span><span class="ProfjComment">// In ILoRunner
</span><span class="ProfjComment">// Finds the fastest Runner in this list of Runners
</span><span class="ProfjType">Runner</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">findWinner</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span>
   </td>
  </tr>
  <tr>
   <td>
    <span class="RktMeta"></span><span class="ProfjComment">// Finds the first Runner in this list of Runners
</span><span class="ProfjType">Runner</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">getFirst</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span>
   </td>
  </tr>
 </tbody>
</table>
</blockquote>
</div>
<blockquote class="IncerciseBody">
<p></p>
<div class="SIntrapara">
<p class="Incercise">
 Do Now!
</p>
</div>
<div class="SIntrapara">
Try implementing these two methods for <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">MtLoRunner</span><span class="RktMeta"></span></span></span> and <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">ConsLoRunner</span><span class="RktMeta"></span></span></span>.
Pay attention to the differences in the purpose statements.
</div>
<p></p>
</blockquote>
<p></p>
<div class="SIntrapara">
<div class="JavaHighlightBlock">
<blockquote class="SCodeFlow">
 <table cellspacing="0" cellpadding="0" class="RktBlk">
  <tbody>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjComment">// In MtLoRunner
</span><span class="ProfjType">Runner</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">findWinner</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">throw</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">new</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">RuntimeException</span><span class="ProfjKeyword">(</span><span class="ProfjString">"No winner of an empty list of Runners"</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjKeyword">}</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjType">Runner</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">getFirst</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">throw</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">new</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">RuntimeException</span><span class="ProfjKeyword">(</span><span class="ProfjString">"No first of an empty list of Runners"</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjKeyword">}</span><span class="RktMeta"></span>
    </td>
   </tr>
  </tbody>
 </table>
</blockquote>
</div>
</div>
<div class="SIntrapara">
<div class="JavaHighlightBlock">
<blockquote class="SCodeFlow">
 <table cellspacing="0" cellpadding="0" class="RktBlk">
  <tbody>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjComment">// In ConsLoRunner
</span><span class="ProfjType">Runner</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">findWinner</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">return</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">sortBy</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">new</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">CompareByTime</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">getFirst</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjKeyword">}</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjType">Runner</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">getFirst</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">return</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">first</span><span class="ProfjDefault">;</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjKeyword">}</span><span class="RktMeta"></span>
    </td>
   </tr>
  </tbody>
 </table>
</blockquote>
</div>
</div>
<div class="SIntrapara">
Note that the use of <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">getFirst</span><span class="RktMeta"></span></span></span> in <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">ConsLoRunner</span><span class="RktMeta"></span></span></span> will never fail, because
sorting a non-empty list will result in a non-empty list, so <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">getFirst</span><span class="RktMeta"></span></span></span> will be
invoked on some <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">ConsLoRunner</span><span class="RktMeta"></span></span></span> object, which indeed has a <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">first</span><span class="RktMeta"></span></span></span> field.
</div>
<p></p>
<h5 class="heading">
14.3.1
<tt>
&nbsp;
</tt>
<a name="(part._.The_smarter_way)"></a>The smarter way<span class="button-group"><a href="#(part._.The_smarter_way)" class="heading-anchor" title="Link to here">🔗</a><span style="visibility: hidden"> </span></span>
</h5>
<p></p>
<div class="SIntrapara">
<blockquote class="refpara">
<blockquote class="refcolumn">
 <blockquote class="refcontent">
  <p>
   In <a href="lecture27.html" data-pltdoc="x">Lecture 27</a>, we’ll learn a bit more precisely what is “extravagant” about this approach.
  </p>
 </blockquote>
</blockquote>
</blockquote>
</div>
<div class="SIntrapara">
It seems a bit extravagant that to find the winner of a marathon, we sort an entire list of <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">Runner</span><span class="RktMeta"></span></span></span>s
and produce an entirely new sorted list, only to take the first item and throw the rest of the list away!
If most of that information is unneeded, could we be cleverer and avoid constructing the entire list?
The key observation here is that to find the fastest runner, we simply need to keep track of the <span class="emph">fastest runner seen so far</span>
as we recur over the list;  once we’ve processed the entire list, the fastest runner seen so far is therefore the fastest
runner overall —<wbr> i.e., the winner.
</div>
<p></p>
<p></p>
<div class="SIntrapara">
More generally, we might want to find the <span class="emph">minimum</span> runner according to any comparison, by keeping track of the minimum seen so far.
</div>
<div class="SIntrapara">
<div class="JavaHighlightBlock">
<blockquote class="SCodeFlow">
 <table cellspacing="0" cellpadding="0" class="RktBlk">
  <tbody>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjComment">// In ILoRunner
</span><span class="ProfjType">Runner</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">findMin</span><span class="ProfjKeyword">(</span><span class="ProfjType">IRunnerComparator</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">comp</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span>
    </td>
   </tr>
  </tbody>
 </table>
</blockquote>
</div>
</div>
<div class="SIntrapara">
In the empty case, as above, we just throw exceptions since there is no minimum of an empty list.
In the non-empty case, finding the winner is just a special case of finding a minimum, as compared by <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">time</span><span class="RktMeta"></span></span></span>:
</div>
<div class="SIntrapara">
<div class="JavaHighlightBlock">
<blockquote class="SCodeFlow">
 <table cellspacing="0" cellpadding="0" class="RktBlk">
  <tbody>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjComment">// In ConsLoRunner
</span><span class="ProfjKeyword">public</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">Runner</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">findWinner</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">return</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">findMin</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">new</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">CompareByTime</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">}</span><span class="RktMeta"></span>
    </td>
   </tr>
  </tbody>
 </table>
</blockquote>
</div>
</div>
<div class="SIntrapara">
Now we just need to finish designing the <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">findMin</span><span class="RktMeta"></span></span></span> method.
We know that <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">findMin</span><span class="RktMeta"></span></span></span> only makes sense for non-empty lists.  It cannot possibly succeed for empty lists, since
in the empty case, there is no minimum runner, so we have no good answer to return.  In that
situation, the only thing we can do is throw an exception:
</div>
<div class="SIntrapara">
<div class="JavaHighlightBlock">
<blockquote class="SCodeFlow">
 <table cellspacing="0" cellpadding="0" class="RktBlk">
  <tbody>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjComment">// In MtLoRunner
</span><span class="ProfjKeyword">public</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">Runner</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">findMin</span><span class="ProfjKeyword">(</span><span class="ProfjType">IRunnerComparator</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">comp</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">throw</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">new</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">RuntimeException</span><span class="ProfjKeyword">(</span><span class="ProfjString">"No minimum runner available in this list!"</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjKeyword">}</span><span class="RktMeta"></span>
    </td>
   </tr>
  </tbody>
 </table>
</blockquote>
</div>
</div>
<p></p>
<p></p>
<div class="SIntrapara">
The non-empty case is a bit subtle.
</div>
<div class="SIntrapara">
<blockquote class="IncerciseBody">
<p></p>
<div class="SIntrapara">
 <p class="Incercise">
  Do Now!
 </p>
</div>
<div class="SIntrapara">
 Try to implement this method on the <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">ConsLoRunner</span><span class="RktMeta"></span></span></span> class.  Where does it get stuck?
</div>
<p></p>
</blockquote>
</div>
<div class="SIntrapara">
If we look at the template for this method, we see
</div>
<div class="SIntrapara">
<div class="JavaHighlightBlock">
<blockquote class="SCodeFlow">
 <table cellspacing="0" cellpadding="0" class="RktBlk">
  <tbody>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjComment">// In ConsLoRunner
</span><span class="ProfjKeyword">public</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">Runner</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">findMin</span><span class="ProfjKeyword">(</span><span class="ProfjType">IRunnerComparator</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">comp</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjBlockComment">/* Fields:
   * this.first
   * this.rest
   *
   * Methods on fields:
   * this.rest.findMin(ICompareRunner)
   *
   * Methods on parameters:
   * comp.comesBefore(Runner, Runner)
   */</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjWhiteSpace">   </span><span class="ProfjDefault">.</span><span class="ProfjDefault">.</span><span class="ProfjDefault">.</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjKeyword">}</span><span class="RktMeta"></span>
    </td>
   </tr>
  </tbody>
 </table>
</blockquote>
</div>
</div>
<div class="SIntrapara">
We have two problems: first, if we simply call <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">rest</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">findMin</span><span class="ProfjKeyword">(</span><span class="ProfjDefault">.</span><span class="ProfjDefault">.</span><span class="ProfjDefault">.</span><span class="ProfjKeyword">)</span><span class="RktMeta"></span></span></span>, eventually we
will reach the <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">MtLoRunner</span><span class="RktMeta"></span></span></span> case, and our code above will inevitably throw an exception.
Second, in order to use <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">comp</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">comesBefore</span><span class="RktMeta"></span></span></span>, we need two <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">Runner</span><span class="RktMeta"></span></span></span>s —<wbr> but a <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">ConsLoRunner</span><span class="RktMeta"></span></span></span>
only has one available.
</div>
<p></p>
<p></p>
<div class="SIntrapara">
But wait!  Remember our description above: we want to keep track of the minimum <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">Runner</span><span class="RktMeta"></span></span></span> seen so far.  This
sounds like we need an accumulator parameter, which means we need a helper method:
</div>
<div class="SIntrapara">
<div class="JavaHighlightBlock">
<blockquote class="SCodeFlow">
 <table cellspacing="0" cellpadding="0" class="RktBlk">
  <tbody>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjComment">// In ILoRunner
</span><span class="ProfjComment">// Returns the minimum Runner of the given accumulator and every Runner
</span><span class="ProfjComment">// in this list, according to the given comparator
</span><span class="ProfjType">Runner</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">findMinHelp</span><span class="ProfjKeyword">(</span><span class="ProfjType">IRunnerComparator</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">comp</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">Runner</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">acc</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span>
    </td>
   </tr>
  </tbody>
 </table>
</blockquote>
</div>
</div>
<div class="SIntrapara">
<blockquote class="IncerciseBody">
<p></p>
<div class="SIntrapara">
 <p class="Incercise">
  Do Now!
 </p>
</div>
<div class="SIntrapara">
 Implement <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">findMinHelp</span><span class="RktMeta"></span></span></span> for <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">MtLoRunner</span><span class="RktMeta"></span></span></span> and <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">ConsLoRunner</span><span class="RktMeta"></span></span></span>.
</div>
<p></p>
</blockquote>
</div>
<div class="SIntrapara">
In the empty case, there are no <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">Runner</span><span class="RktMeta"></span></span></span>s in the list, so the minimum must be the accumulator:
</div>
<div class="SIntrapara">
<div class="JavaHighlightBlock">
<blockquote class="SCodeFlow">
 <table cellspacing="0" cellpadding="0" class="RktBlk">
  <tbody>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjComment">// In MtLoRunner
</span><span class="ProfjKeyword">public</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">Runner</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">findMinHelp</span><span class="ProfjKeyword">(</span><span class="ProfjType">IRunnerComparator</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">comp</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">Runner</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">acc</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">return</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">acc</span><span class="ProfjDefault">;</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">}</span><span class="RktMeta"></span>
    </td>
   </tr>
  </tbody>
 </table>
</blockquote>
</div>
</div>
<div class="SIntrapara">
In the non-empty case, we’re now unstuck:
</div>
<div class="SIntrapara">
<div class="JavaHighlightBlock">
<blockquote class="SCodeFlow">
 <table cellspacing="0" cellpadding="0" class="RktBlk">
  <tbody>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjComment">// In ConsLoRunner
</span><span class="ProfjKeyword">public</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">Runner</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">findMinHelp</span><span class="ProfjKeyword">(</span><span class="ProfjType">IRunnerComparator</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">comp</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">Runner</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">acc</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">if</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">(</span><span class="ProfjIdentifier">comp</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">compare</span><span class="ProfjKeyword">(</span><span class="ProfjIdentifier">acc</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">first</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">&lt;</span><span class="ProfjWhiteSpace"> </span><span class="ProfjLiteral">0</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjWhiteSpace">    </span><span class="ProfjComment">// The accumulator is still the minimum
</span><span class="ProfjWhiteSpace">    </span><span class="ProfjKeyword">return</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">rest</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">findMinHelp</span><span class="ProfjKeyword">(</span><span class="ProfjIdentifier">comp</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">acc</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">}</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">else</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjWhiteSpace">    </span><span class="ProfjComment">// this.first comes before the accumulator
</span><span class="ProfjWhiteSpace">    </span><span class="ProfjKeyword">return</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">rest</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">findMinHelp</span><span class="ProfjKeyword">(</span><span class="ProfjIdentifier">comp</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">first</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">}</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjKeyword">}</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjKeyword">public</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">Runner</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">findMin</span><span class="ProfjKeyword">(</span><span class="ProfjType">IRunnerComparator</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">comp</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">return</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">rest</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">findMinHelp</span><span class="ProfjKeyword">(</span><span class="ProfjIdentifier">comp</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">first</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjKeyword">}</span><span class="RktMeta"></span>
    </td>
   </tr>
  </tbody>
 </table>
</blockquote>
</div>
</div>
<div class="SIntrapara">
Notice that this code has only one potential exception (if we call <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">findMin</span><span class="RktMeta"></span></span></span> on an empty list),
and every other code path cannot possibly throw an exception.  Much better!
</div>
<p></p>
<p></p>
<div class="SIntrapara">
<blockquote class="ExerciseBody">
<p></p>
<div class="SIntrapara">
 <p class="Exercise">
  Exercise
 </p>
</div>
<div class="SIntrapara">
 Design a comparator class <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">ReverseComparator</span><span class="RktMeta"></span></span></span> that takes an <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">IRunnerComparator</span><span class="RktMeta"></span></span></span>
as a parameter, and whose behavior is the reverse of that parameter.  I.e., if the given
comparator says one <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">Runner</span><span class="RktMeta"></span></span></span> is less than the other, then the <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">ReverseComparator</span><span class="RktMeta"></span></span></span>
will say that it is greater.
</div>
<p></p>
</blockquote>
</div>
<div class="SIntrapara">
<blockquote class="ExerciseBody">
<p></p>
<div class="SIntrapara">
 <p class="Exercise">
  Exercise
 </p>
</div>
<div class="SIntrapara">
 Design a <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">findMax</span><span class="RktMeta"></span></span></span> method.  (Hint: There is a very short solution, using the answer to the previous exercise.)
</div>
<p></p>
</blockquote>
</div>
<p></p>
<h5 class="heading">
14.4
<tt>
&nbsp;
</tt>
<a name="(part._.Computing_the_registration_roster__sorting_alphabetically)"></a>Computing the registration roster: sorting alphabetically<span class="button-group"><a href="#(part._.Computing_the_registration_roster__sorting_alphabetically)" class="heading-anchor" title="Link to here">🔗</a><span style="visibility: hidden"> </span></span>
</h5>
<p></p>
<div class="SIntrapara">
Often when handling registration at big events like marathons, the organizers have a list of attendees,
sorted alphabetically by name.  We already have a <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">sortBy</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="RktMeta"></span></span></span> method; all we need is a <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">IRunnerComparator</span><span class="RktMeta"></span></span></span>
that sorts by name.
</div>
<div class="SIntrapara">
<blockquote class="IncerciseBody">
<p></p>
<div class="SIntrapara">
 <p class="Incercise">
  Do Now!
 </p>
</div>
<div class="SIntrapara">
 Design a <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">CompareByName</span><span class="RktMeta"></span></span></span> comparator that compares two <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">Runner</span><span class="RktMeta"></span></span></span>s by their <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">name</span><span class="RktMeta"></span></span></span>s.
</div>
<p></p>
</blockquote>
</div>
<div class="SIntrapara">
Conveniently, the method to compare two <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjPrimType">String</span><span class="RktMeta"></span></span></span>s in Java, <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">compareTo</span><span class="RktMeta"></span></span></span>, has exactly the same purpose
statement as for our <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">compare</span><span class="RktMeta"></span></span></span> method in <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">IRunnerComparator</span><span class="RktMeta"></span></span></span>.
</div>
<div class="SIntrapara">
<div class="JavaHighlightBlock">
<blockquote class="SCodeFlow">
 <table cellspacing="0" cellpadding="0" class="RktBlk">
  <tbody>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjKeyword">class</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">CompareByName</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">implements</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">IRunnerComparator</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">public</span><span class="ProfjWhiteSpace"> </span><span class="ProfjPrimType">int</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">compare</span><span class="ProfjKeyword">(</span><span class="ProfjType">Runner</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">r1</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">Runner</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">r2</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjWhiteSpace">    </span><span class="ProfjKeyword">return</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">r1</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">name</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">compareTo</span><span class="ProfjKeyword">(</span><span class="ProfjIdentifier">r2</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">name</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">}</span><span class="RktMeta"></span>
    </td>
   </tr>
   <tr>
    <td>
     <span class="RktMeta"></span><span class="ProfjKeyword">}</span><span class="RktMeta"></span>
    </td>
   </tr>
  </tbody>
 </table>
</blockquote>
</div>
</div>
<p></p>
<p>
And we’re done!
</p>
<div class="navsetbottom">
<span class="navleft">
<div class="nosearchform"></div>
&nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span>
</span>
<span class="navright">&nbsp;&nbsp;<a href="lecture13.html" title="backward to &quot;Lecture 13: Abstracting over behavior&quot;" data-pltdoc="x" rel="prev">← prev</a>&nbsp;&nbsp;<a href="Lectures.html" title="up to &quot;Lectures&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="lecture15.html" title="forward to &quot;Lecture 15: Abstracting over types&quot;" data-pltdoc="x" rel="next">next →</a></span>&nbsp;
</div>
</div>
</div>
<div id="contextindicator">
&nbsp;
</div>
</body>
</html>
