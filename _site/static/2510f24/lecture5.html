<!DOCTYPE html>
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  <script type="text/x-mathjax-config">
   MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX", "output/HTML-CSS"],
  tex2jax: {
    inlineMath: [ ["$","$"], ["\\(","\\)"] ],
    displayMath: [ ["$$","$$"], 
                   ["\\[","\\]"], 
                   ["\\begin{equation}","\\end{equation}"], 
                   ["\\begin{equation*}","\\end{equation*}"] ],
    processEscapes: true,
    ignoreClass: "tex2jax_ignore|JavaHighlightBlock|JavaHighlight"
  },
  "HTML-CSS": {
    availableFonts: [],
    webFont: "Asana-Math",
    preferredFont: "Asana-Math",
    imageFont: null,
    mtexFontInherit: true
  }
});
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  <script src="codemirror.js"></script>
  <script src="python.js"></script>
  <script src="runmode.js"></script>
  <script src="setup-page.js"></script>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=0.8">
  <title>
   dbp.io
  </title>
  <link rel="stylesheet" type="text/css" href="scribble.css" title="default">
  <link rel="stylesheet" type="text/css" href="racket.css" title="default">
  <link rel="stylesheet" type="text/css" href="manual-style.css" title="default">
  <link rel="stylesheet" type="text/css" href="manual-racket.css" title="default">
  <link rel="stylesheet" type="text/css" href="extra-styles.css" title="default">
  <link rel="stylesheet" type="text/css" href="codemirror.css" title="default">
  <script type="text/javascript" src="scribble-common.js"></script>
  <script type="text/javascript" src="manual-racket.js"></script>
 </head>
 <body id="scribble-racket-lang-org">
  <div class="tocset">
   <div class="tocview">
    <div class="tocviewlist tocviewlisttopspace">
     <div class="tocviewtitle">
      <table cellspacing="0" cellpadding="0">
       <tbody>
        <tr>
         <td style="width: 1em;">
          <a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">‚ñ∫</a>
         </td>
         <td></td>
         <td>
          <a href="index.html" class="tocviewlink" data-pltdoc="x">Fundamentals II
<br>
Introduction to Class-<wbr>based Program Design</a>
         </td>
        </tr>
       </tbody>
      </table>
     </div>
     <div class="tocviewsublisttop" style="display: none;" id="tocview_0">
      <table cellspacing="0" cellpadding="0">
       <tbody>
        <tr>
         <td align="right"></td>
         <td>
          <a href="General.html" class="tocviewlink" data-pltdoc="x">General</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="Texts.html" class="tocviewlink" data-pltdoc="x">Texts</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="Lectures.html" class="tocviewselflink" data-pltdoc="x">Lectures</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="Syllabus.html" class="tocviewlink" data-pltdoc="x">Syllabus</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="Lab_Materials.html" class="tocviewlink" data-pltdoc="x">Lab Materials</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="Assignments.html" class="tocviewlink" data-pltdoc="x">Assignments</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="Pair_Programming_Overview.html" class="tocviewlink" data-pltdoc="x">Pair Programming Overview</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="code-style.html" class="tocviewlink" data-pltdoc="x">Code style</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="Documentation.html" class="tocviewlink" data-pltdoc="x">Documentation</a>
         </td>
        </tr>
       </tbody>
      </table>
     </div>
    </div>
    <div class="tocviewlist">
     <table cellspacing="0" cellpadding="0">
      <tbody>
       <tr>
        <td style="width: 1em;">
         <a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">‚ñº</a>
        </td>
        <td></td>
        <td>
         <a href="Lectures.html" class="tocviewlink" data-pltdoc="x">Lectures</a>
        </td>
       </tr>
      </tbody>
     </table>
     <div class="tocviewsublist" style="display: block;" id="tocview_1">
      <table cellspacing="0" cellpadding="0">
       <tbody>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture1.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 1:</span> Data Definitions in Java</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture2.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 2:</span> Data Definitions:<span class="mywbr"> &nbsp;</span> Unions</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture3.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 3:</span> Methods for simple classes</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture4.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 4:</span> Methods for unions</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="" class="tocviewselflink" data-pltdoc="x"><span class="LectureNum">Lecture 5:</span> Methods for self-<wbr>referential lists</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture6.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 6:</span> Accumulator methods</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture7.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 7:</span> Accumulator methods, continued</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture8.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 8:</span> Practice Design</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture9.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 9:</span> Abstract classes and inheritance</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture10.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 10:</span> Customizing constructors for correctness and convenience</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture11.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 11:</span> Defining sameness for complex data, part 1</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture12.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 12:</span> Defining sameness for complex data, part 2</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture13.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 13:</span> Abstracting over behavior</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture14.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 14:</span> Abstractions over more than one argument</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture15.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 15:</span> Abstracting over types</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture16.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 16:</span> Visitors</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture17.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 17:</span> Mutation</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture18.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 18:</span> Mutation inside structures</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture19.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 19:</span> Mutation, aliasing and testing</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture20.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 20:</span> Mutable data structures</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture21.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 21:</span> Array<span class="mywbr"> &nbsp;</span>Lists</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture22.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 22:</span> Array<span class="mywbr"> &nbsp;</span>Lists</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture23.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 23:</span> For-<wbr>each loops and Counted-<wbr>for loops</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture24.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 24:</span> While loops</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture25.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 25:</span> Iterator and Iterable</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture26.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 26:</span> Hashing and Equality</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture27.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 27:</span> Introduction to Big-<span style="font-style: italic">O</span> Analysis</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture28.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 28:</span> Quicksort and Mergesort</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture29.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 29:</span> Priority Queues and Heapsort</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture30.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 30:</span> Breadth-<wbr>first search and Depth-<wbr>first search on graphs</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture31.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 31:</span> Dijkstra‚Äôs Algorithm for single-<wbr>source shortest paths</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture32.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 32:</span> Minimum Spanning Trees</a>
         </td>
        </tr>
        <tr>
         <td align="right"></td>
         <td>
          <a href="lecture33.html" class="tocviewlink" data-pltdoc="x"><span class="LectureNum">Lecture 33:</span> Implementing Objects</a>
         </td>
        </tr>
       </tbody>
      </table>
     </div>
    </div>
    <div class="tocviewlist">
     <table cellspacing="0" cellpadding="0">
      <tbody>
       <tr>
        <td style="width: 1em;">
         <a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_2&quot;);">‚ñ∫</a>
        </td>
        <td></td>
        <td>
         <a href="" class="tocviewselflink" data-pltdoc="x"><span class="LectureNum">Lecture 5:</span> Methods for self-<wbr>referential lists</a>
        </td>
       </tr>
      </tbody>
     </table>
     <div class="tocviewsublistbottom" style="display: none;" id="tocview_2">
      <table cellspacing="0" cellpadding="0">
       <tbody>
        <tr>
         <td align="right"></td>
         <td>
          <a href="#%28part._.Lecture_outline%29" class="tocviewlink" data-pltdoc="x">Lecture outline</a>
         </td>
        </tr>
        <tr>
         <td align="right">
          5.1&nbsp;
         </td>
         <td>
          <a href="#%28part._.Representing_lists%29" class="tocviewlink" data-pltdoc="x">Representing lists</a>
         </td>
        </tr>
        <tr>
         <td align="right">
          5.2&nbsp;
         </td>
         <td>
          <a href="#%28part._.Basic_list_computations%29" class="tocviewlink" data-pltdoc="x">Basic list computations</a>
         </td>
        </tr>
        <tr>
         <td align="right">
          5.3&nbsp;
         </td>
         <td>
          <a href="#%28part._.Sorting%29" class="tocviewlink" data-pltdoc="x">Sorting</a>
         </td>
        </tr>
       </tbody>
      </table>
     </div>
    </div>
   </div>
   <div class="tocsub">
    <div class="tocsubtitle">
     On this page:
    </div>
    <table class="tocsublist" cellspacing="0">
     <tbody>
      <tr>
       <td>
        <span class="tocsublinknumber"></span><a href="#%28part._.Lecture_outline%29" class="tocsubseclink" data-pltdoc="x">Lecture outline</a>
       </td>
      </tr>
      <tr>
       <td>
        <span class="tocsublinknumber">5.1
        <tt>
         &nbsp;
        </tt>
       </span>
       <a href="#%28part._.Representing_lists%29" class="tocsubseclink" data-pltdoc="x">Representing lists</a>
      </td>
     </tr>
     <tr>
      <td>
       <span class="tocsublinknumber">5.2
       <tt>
        &nbsp;
       </tt>
      </span>
      <a href="#%28part._.Basic_list_computations%29" class="tocsubseclink" data-pltdoc="x">Basic list computations</a>
     </td>
    </tr>
    <tr>
     <td>
      <span class="tocsublinknumber"></span><a href="#%28part._count_and_sale.Price%29" class="tocsubseclink" data-pltdoc="x"><span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">count</span><span class="RktMeta"></span></span></span> and <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">sale<span class="mywbr"> &nbsp;</span>Price</span><span class="RktMeta"></span></span></span></a>
     </td>
    </tr>
    <tr>
     <td>
      <span class="tocsublinknumber"></span><a href="#%28part._all.Before%29" class="tocsubseclink" data-pltdoc="x"><span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">all<span class="mywbr"> &nbsp;</span>Before</span><span class="RktMeta"></span></span></span></a>
     </td>
    </tr>
    <tr>
     <td>
      <span class="tocsublinknumber">5.3
      <tt>
       &nbsp;
      </tt>
     </span>
     <a href="#%28part._.Sorting%29" class="tocsubseclink" data-pltdoc="x">Sorting</a>
    </td>
   </tr>
  </tbody>
 </table>
</div>
</div>
<div class="maincolumn">
<div class="main">
 <div class="versionbox">
  <span class="version">8.14</span>
 </div>
 <div class="navsettop">
  <span class="navleft">
  <div class="nosearchform"></div>
  &nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span>
 </span>
 <span class="navright">&nbsp;&nbsp;<a href="lecture4.html" title="backward to &quot;Lecture 4: Methods for unions&quot;" data-pltdoc="x" rel="prev">‚Üê prev</a>&nbsp;&nbsp;<a href="Lectures.html" title="up to &quot;Lectures&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="lecture6.html" title="forward to &quot;Lecture 6: Accumulator methods&quot;" data-pltdoc="x" rel="next">next ‚Üí</a></span>&nbsp;
</div>
<h4 class="heading">
 <a name="(part._)"></a><span class="LectureNum">Lecture 5:</span> Methods for self-referential lists<span class="button-group"><a href="#(part._)" class="heading-anchor" title="Link to here">üîó</a><span style="visibility: hidden"> </span></span>
</h4>
<p></p>
<div class="SIntrapara">
 <p class="boxed">
  Designing classes to represent lists. Methods on lists, including
basic recursive methods, and sorting
 </p>
</div>
<div class="SIntrapara">
 <div class="RelatedFiles">
  <blockquote>
   <p class="boxed">
    Related files:<br><span class="hspace">&nbsp;&nbsp;</span><a href="files/lectures/lecture5/files/lectures/lecture5/BookLists.java">BookLists.java</a><span class="hspace">&nbsp;&nbsp;</span>
   </p>
  </blockquote>
 </div>
</div>
<p></p>
<h5 class="heading">
 <a name="(part._.Lecture_outline)"></a>Lecture outline<span class="button-group"><a href="#(part._.Lecture_outline)" class="heading-anchor" title="Link to here">üîó</a><span style="visibility: hidden"> </span></span>
</h5>
<ul>
 <li>
  <p>
   Representing lists
  </p>
 </li>
 <li>
  <p>
   Basic methods
  </p>
 </li>
 <li>
  <p>
   Sorting
  </p>
 </li>
</ul>
<h5 class="heading">
 5.1
 <tt>
  &nbsp;
 </tt>
 <a name="(part._.Representing_lists)"></a>Representing lists<span class="button-group"><a href="#(part._.Representing_lists)" class="heading-anchor" title="Link to here">üîó</a><span style="visibility: hidden"> </span></span>
</h5>
<p>
 The following class diagram defines a class hierarchy that represents a list
of books in a bookstore:
</p>
<pre class="AsciiArt">               +--------------------------------+
               | ILoBook                        |&lt;----------------------+
               +--------------------------------+                       |
               +--------------------------------+                       |
               | int count()                    |                       |
               | double salePrice(int discount) |                       |
               | ILoBook allBefore(int y)       |                       |
               | ILoBook sortByPrice()          |                       |
               +--------------------------------+                       |
                                |                                       |
                               / \                                      |
                               ---                                      |
                                |                                       |
                  -----------------------------                         |
                  |                           |                         |
+--------------------------------+   +--------------------------------+ |
| MtLoBook                       |   | ConsLoBook                     | |
+--------------------------------+   +--------------------------------+ |
+--------------------------------+ +-| Book first                     | |
| int count()                    | | | ILoBook rest                   |-+
| double salePrice(int discount) | | +--------------------------------+
| ILoBook allBefore(int y)       | | | int count()                    |
| ILoBook sortByPrice()          | | | double salePrice(int discount) |
+--------------------------------+ | | ILoBook allBefore(int y)       |
                                   | | ILoBook sortByPrice()          |
                                   | +--------------------------------+
                                   v
                   +--------------------------------+
                   | Book                           |
                   +--------------------------------+
                   | String title                   |
                   | String author                  |
                   | int year                       |
                   | double price                   |
                   +--------------------------------+
                   | double salePrice(int discount) |
                   +--------------------------------+</pre>
<p>
 <span style="font-weight: bold">Let‚Äôs make some examples</span>
</p>
<div class="JavaHighlightBlock">
 <blockquote class="SCodeFlow">
  <table cellspacing="0" cellpadding="0" class="RktBlk">
   <tbody>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjComment">//Books
</span><span class="ProfjType">Book</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">htdp</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">=</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">new</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">Book</span><span class="ProfjKeyword">(</span><span class="ProfjString">"HtDP"</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjString">"MF"</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjLiteral">2001</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjLiteral">60</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjType">Book</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">lpp</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">=</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">new</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">Book</span><span class="ProfjKeyword">(</span><span class="ProfjString">"LPP"</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjString">"STX"</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjLiteral">1942</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjLiteral">25</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjType">Book</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">ll</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">=</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">new</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">Book</span><span class="ProfjKeyword">(</span><span class="ProfjString">"LL"</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjString">"FF"</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjLiteral">1986</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjLiteral">10</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjError">&nbsp;</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjComment">// lists of Books
</span><span class="ProfjType">ILoBook</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">mtlist</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">=</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">new</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">MtLoBook</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjType">ILoBook</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">lista</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">=</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">new</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">ConsLoBook</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">lpp</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">mtlist</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjType">ILoBook</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">listb</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">=</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">new</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">ConsLoBook</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">htdp</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">mtlist</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjType">ILoBook</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">listc</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">=</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">new</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">ConsLoBook</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">lpp</span><span class="ProfjDefault">,</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjWhiteSpace">                </span><span class="ProfjKeyword">new</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">ConsLoBook</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">ll</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">listb</span><span class="ProfjKeyword">)</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjType">ILoBook</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">listd</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">=</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">new</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">ConsLoBook</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">ll</span><span class="ProfjDefault">,</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjWhiteSpace">                  </span><span class="ProfjKeyword">new</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">ConsLoBook</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">lpp</span><span class="ProfjDefault">,</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjWhiteSpace">                    </span><span class="ProfjKeyword">new</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">ConsLoBook</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">htdp</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">mtlist</span><span class="ProfjKeyword">)</span><span class="ProfjKeyword">)</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span>
     </td>
    </tr>
   </tbody>
  </table>
 </blockquote>
</div>
<h5 class="heading">
 5.2
 <tt>
  &nbsp;
 </tt>
 <a name="(part._.Basic_list_computations)"></a>Basic list computations<span class="button-group"><a href="#(part._.Basic_list_computations)" class="heading-anchor" title="Link to here">üîó</a><span style="visibility: hidden"> </span></span>
</h5>
<p>
 Given this preceding class diagram, we would like to design methods to answer
the following questions
</p>
<ul>
 <li>
  <p>
   Count how many books we have in this list of books
  </p>
 </li>
 <li>
  <p>
   Compute the total sale price of all books in this list of books, at a given discount rate
  </p>
 </li>
 <li>
  <p>
   Given a date (year) and this list of books,
produce a list of all books in this list that were published before
the given year
  </p>
 </li>
 <li>
  <p>
   Produce a list of the same books as this list, but sorted by their price
  </p>
 </li>
</ul>
<p>
 Each of the four questions concerns a list of books, and so we start by designing the
appropriate method headers and purpose statements in the interface <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">ILoBook</span><span class="RktMeta"></span></span></span>:
</p>
<div class="JavaHighlightBlock">
 <blockquote class="SCodeFlow">
  <table cellspacing="0" cellpadding="0" class="RktBlk">
   <tbody>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjComment">// In ILoBook
</span><span class="ProfjComment">// -------
</span><span class="ProfjComment">// count the books in this list
</span><span class="ProfjPrimType">int</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">count</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjError">&nbsp;</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjComment">// produce a list of all books published before the given date
</span><span class="ProfjComment">// from this list of books
</span><span class="ProfjType">ILoBook</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">allBefore</span><span class="ProfjKeyword">(</span><span class="ProfjPrimType">int</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">year</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjError">&nbsp;</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjComment">// calculate the total sale price of all books in this list for a given discount
</span><span class="ProfjPrimType">double</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">salePrice</span><span class="ProfjKeyword">(</span><span class="ProfjPrimType">int</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">discount</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjError">&nbsp;</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjComment">// produce a list of all books in this list, sorted by their price
</span><span class="ProfjType">ILoBook</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">sortByPrice</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span>
     </td>
    </tr>
   </tbody>
  </table>
 </blockquote>
</div>
<p>
 We now have to define these methods in both the class <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">MtLoBook</span><span class="RktMeta"></span></span></span> and
in the class <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">ConsLoBook</span><span class="RktMeta"></span></span></span>. (You may find it helpful to recall similar
functions in DrRacket. Remember from last lecture the pattern given to us by virtue
of <a href="lecture4.html#%28part._.Dynamic._.Dispatch%29" data-pltdoc="x">Dynamic dispatch</a>: we take each clause of the <span class="RktMeta"></span><span class="RktSym">cond</span><span class="RktMeta"></span>
that checked for a particular variant and ‚Äúmove‚Äù the right-hand sides
of those clauses into the methods defined in the corresponding class, then eliminate
the <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">cond</span><span class="RktMeta"></span></span></span> altogether.)
</p>
<p>
 The <span class="emph">design recipe</span> asks us to make examples. For clarity, we write them
in an abbreviated manner, just showing the actual computation and the expected
outcome:
</p>
<div class="JavaHighlightBlock">
 <blockquote class="SCodeFlow">
  <table cellspacing="0" cellpadding="0" class="RktBlk">
   <tbody>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjComment">// Examples for the class MtLoBook
</span><span class="ProfjComment">// ----------------------------
</span><span class="ProfjIdentifier">mtlist</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">count</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">=</span><span class="ProfjKeyword">&gt;</span><span class="ProfjWhiteSpace"> </span><span class="ProfjLiteral">0</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjIdentifier">mtlist</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">salePrice</span><span class="ProfjKeyword">(</span><span class="ProfjLiteral">0</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">=</span><span class="ProfjKeyword">&gt;</span><span class="ProfjWhiteSpace"> </span><span class="ProfjLiteral">0</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjIdentifier">mtlist</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">allBefore</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">=</span><span class="ProfjKeyword">&gt;</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">mtlist</span><span class="RktMeta"></span>
     </td>
    </tr>
   </tbody>
  </table>
 </blockquote>
</div>
<p>
 and our methods become:
</p>
<div class="JavaHighlightBlock">
 <blockquote class="SCodeFlow">
  <table cellspacing="0" cellpadding="0" class="RktBlk">
   <tbody>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjComment">// In MtLoBook:
</span><span class="ProfjComment">// ---------
</span><span class="ProfjError">&nbsp;</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjComment">// count the books in this list
</span><span class="ProfjKeyword">public</span><span class="ProfjWhiteSpace"> </span><span class="ProfjPrimType">int</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">count</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">return</span><span class="ProfjWhiteSpace"> </span><span class="ProfjLiteral">0</span><span class="ProfjDefault">;</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">}</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjError">&nbsp;</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjComment">// produce a list of all books published before the given date
</span><span class="ProfjComment">// from this empty list of books
</span><span class="ProfjKeyword">public</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">ILoBook</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">allBefore</span><span class="ProfjKeyword">(</span><span class="ProfjPrimType">int</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">year</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">return</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">this</span><span class="ProfjDefault">;</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">}</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjError">&nbsp;</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjComment">// calculate the total sale price of all books in this list for a given discount
</span><span class="ProfjKeyword">public</span><span class="ProfjWhiteSpace"> </span><span class="ProfjPrimType">double</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">salePrice</span><span class="ProfjKeyword">(</span><span class="ProfjPrimType">int</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">discount</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">return</span><span class="ProfjWhiteSpace"> </span><span class="ProfjLiteral">0</span><span class="ProfjDefault">;</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">}</span><span class="RktMeta"></span>
     </td>
    </tr>
   </tbody>
  </table>
 </blockquote>
</div>
<p>
 Notice that the values produced by these methods are the base case
values we have been in DrRacket for the empty lists. The <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">count</span><span class="RktMeta"></span></span></span> for
an empty list is zero; the <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">salePrice</span><span class="RktMeta"></span></span></span> of no <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">Book</span><span class="RktMeta"></span></span></span>s is zero as well;
and starting with an empty list there are no <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">Book</span><span class="RktMeta"></span></span></span>s
at all, let alone any before a given year.
</p>
<p>
 <span class="emph">Note:</span> We will return to the <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">sort</span><span class="RktMeta"></span></span></span> method later.
</p>
<p>
 Of course, there will be more work to do in the <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">ConsLoBook</span><span class="RktMeta"></span></span></span> class. First, examples!
</p>
<div class="JavaHighlightBlock">
 <blockquote class="SCodeFlow">
  <table cellspacing="0" cellpadding="0" class="RktBlk">
   <tbody>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjComment">//  Examples
</span><span class="ProfjComment">//  --------
</span><span class="ProfjIdentifier">lista</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">count</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">=</span><span class="ProfjKeyword">&gt;</span><span class="ProfjWhiteSpace"> </span><span class="ProfjLiteral">1</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjIdentifier">listc</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">count</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">=</span><span class="ProfjKeyword">&gt;</span><span class="ProfjWhiteSpace"> </span><span class="ProfjLiteral">3</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjError">&nbsp;</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjIdentifier">lista</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">salePrice</span><span class="ProfjKeyword">(</span><span class="ProfjLiteral">0</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">=</span><span class="ProfjKeyword">&gt;</span><span class="ProfjWhiteSpace"> </span><span class="ProfjLiteral">25</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjIdentifier">listd</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">salePrice</span><span class="ProfjKeyword">(</span><span class="ProfjLiteral">0</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">=</span><span class="ProfjKeyword">&gt;</span><span class="ProfjWhiteSpace"> </span><span class="ProfjLiteral">95</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjError">&nbsp;</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjIdentifier">lista</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">allBefore</span><span class="ProfjKeyword">(</span><span class="ProfjLiteral">2000</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">=</span><span class="ProfjKeyword">&gt;</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">lista</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjIdentifier">listb</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">allBefore</span><span class="ProfjKeyword">(</span><span class="ProfjLiteral">2000</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">=</span><span class="ProfjKeyword">&gt;</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">mtlist</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjIdentifier">listc</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">allBefore</span><span class="ProfjKeyword">(</span><span class="ProfjLiteral">2000</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">=</span><span class="ProfjKeyword">&gt;</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">new</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">ConsLoBook</span><span class="ProfjKeyword">(</span><span class="ProfjIdentifier">lpp</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">new</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">ConsLoBook</span><span class="ProfjKeyword">(</span><span class="ProfjIdentifier">ll</span><span class="ProfjDefault">,</span><span class="ProfjIdentifier">mtlist</span><span class="ProfjKeyword">)</span><span class="ProfjKeyword">)</span><span class="RktMeta"></span>
     </td>
    </tr>
   </tbody>
  </table>
 </blockquote>
</div>
<p>
 The <span class="emph">design recipe</span> asks us now to derive the template.
 A template serves as a starting point for <span style="font-weight: bold">any</span> method inside <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">ConsLoBook</span><span class="RktMeta"></span></span></span>:
</p>
<div class="JavaHighlightBlock">
 <blockquote class="SCodeFlow">
  <table cellspacing="0" cellpadding="0" class="RktBlk">
   <tbody>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjBlockComment">/*
TEMPLATE:
---------
Fields:
... this.first ...                             -- Book
... this.rest ...                              -- ILoBook
Methods:
... this.count() ...                           -- int
... this.salePrice(int discount) ...           -- double
... this.allBefore(int year) ...               -- ILoBook
Methods for Fields:
... this.rest.count() ...                      -- int
... this.rest.salePrice(int discount) ...      -- double
... this.rest.allBefore(int year) ...          -- ILoBook
*/</span><span class="RktMeta"></span>
     </td>
    </tr>
   </tbody>
  </table>
 </blockquote>
</div>
<h5 class="heading">
 <a name="(part._count_and_sale.Price)"></a><span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">count</span><span class="RktMeta"></span></span></span> and <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">salePrice</span><span class="RktMeta"></span></span></span><span class="button-group"><a href="#(part._count_and_sale.Price)" class="heading-anchor" title="Link to here">üîó</a><span style="visibility: hidden"> </span></span>
</h5>
<p>
 In the template, <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">rest</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">count</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="RktMeta"></span></span></span>
produces <span class="emph">the count of all books in the rest of this list</span> ‚Äî<wbr> and so the
method body in the class <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">ConsLoBook</span><span class="RktMeta"></span></span></span> becomes:
</p>
<div class="JavaHighlightBlock">
 <blockquote class="SCodeFlow">
  <table cellspacing="0" cellpadding="0" class="RktBlk">
   <tbody>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjComment">// count the books in this list
</span><span class="ProfjKeyword">public</span><span class="ProfjWhiteSpace"> </span><span class="ProfjPrimType">int</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">count</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">return</span><span class="ProfjWhiteSpace"> </span><span class="ProfjLiteral">1</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">+</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">rest</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">count</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">}</span><span class="RktMeta"></span>
     </td>
    </tr>
   </tbody>
  </table>
 </blockquote>
</div>
<p>
 In the template, <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">rest</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">salePrice</span><span class="ProfjKeyword">(</span><span class="ProfjIdentifier">discount</span><span class="ProfjKeyword">)</span><span class="RktMeta"></span></span></span> produces <span class="emph">the total
sale price of all books in the rest of this list for the given discount</span> ‚Äî<wbr>
and so the method body in the class <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">ConsLoBook</span><span class="RktMeta"></span></span></span> just adds to this value
the price of the first book in the list:
</p>
<div class="JavaHighlightBlock">
 <blockquote class="SCodeFlow">
  <table cellspacing="0" cellpadding="0" class="RktBlk">
   <tbody>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjComment">// calculate the total sale price of all books in this list for the given discout
</span><span class="ProfjKeyword">public</span><span class="ProfjWhiteSpace"> </span><span class="ProfjPrimType">double</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">salePrice</span><span class="ProfjKeyword">(</span><span class="ProfjPrimType">int</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">discount</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">return</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">first</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">salePrice</span><span class="ProfjKeyword">(</span><span class="ProfjIdentifier">discount</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">+</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">rest</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">salePrice</span><span class="ProfjKeyword">(</span><span class="ProfjIdentifier">discount</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjKeyword">}</span><span class="RktMeta"></span>
     </td>
    </tr>
   </tbody>
  </table>
 </blockquote>
</div>
<blockquote class="IncerciseBody">
 <p></p>
 <div class="SIntrapara">
  <p class="Incercise">
   Do Now!
  </p>
 </div>
 <div class="SIntrapara">
  Did you notice how similar this method body is to the one above for <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">count</span><span class="RktMeta"></span></span></span>?
In Fundies 1, we had a terser way of expressing this sort of computation.
What kind of operation on lists are we computing here?
We will see in <a href="lecture13.html" data-pltdoc="x"><span class="LectureNum">Lecture 13:</span> Abstracting over behavior</a> how to improve this code.
 </div>
 <p></p>
</blockquote>
<h5 class="heading">
 <a name="(part._all.Before)"></a><span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">allBefore</span><span class="RktMeta"></span></span></span><span class="button-group"><a href="#(part._all.Before)" class="heading-anchor" title="Link to here">üîó</a><span style="visibility: hidden"> </span></span>
</h5>
<p>
 In the template, <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">rest</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">allBefore</span><span class="ProfjKeyword">(</span><span class="ProfjIdentifier">year</span><span class="ProfjKeyword">)</span><span class="RktMeta"></span></span></span>
produces <span class="emph">a list of all books in the rest of this list published before
the given date</span>.  The only work that remains is to decide whether the <span class="emph">first</span> book of this list
belongs in the output list, and either add it to the result or not.  If only we could determine whether
that first <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">Book</span><span class="RktMeta"></span></span></span> was published before the given year!  (Look carefully at the template:
we cannot access <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">first</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">year</span><span class="RktMeta"></span></span></span>, because we do not have access to fields of fields.)
So we add a method to our wish list, and we will delegate the job of deciding this
question to the <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">Book</span><span class="RktMeta"></span></span></span> class itself. The method body in the
class <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">ConsLoBook</span><span class="RktMeta"></span></span></span> becomes:
</p>
<div class="JavaHighlightBlock">
 <blockquote class="SCodeFlow">
  <table cellspacing="0" cellpadding="0" class="RktBlk">
   <tbody>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjComment">// produce a list of all books published before the given date
</span><span class="ProfjComment">// from this non-empty list of books
</span><span class="ProfjType">ILoBook</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">allBefore</span><span class="ProfjKeyword">(</span><span class="ProfjPrimType">int</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">year</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">if</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">first</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">publishedBefore</span><span class="ProfjKeyword">(</span><span class="ProfjIdentifier">year</span><span class="ProfjKeyword">)</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjWhiteSpace">    </span><span class="ProfjKeyword">return</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">new</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">ConsLoBook</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">first</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">rest</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">allBefore</span><span class="ProfjKeyword">(</span><span class="ProfjIdentifier">year</span><span class="ProfjKeyword">)</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">}</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">else</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjWhiteSpace">    </span><span class="ProfjKeyword">return</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">rest</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">allBefore</span><span class="ProfjKeyword">(</span><span class="ProfjIdentifier">year</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">}</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjKeyword">}</span><span class="RktMeta"></span>
     </td>
    </tr>
   </tbody>
  </table>
 </blockquote>
</div>
<p></p>
<div class="SIntrapara">
 (This method introduces a new piece of syntax: <span class="emph">if statements</span>.  An if-statement
always follows the same basic template:
</div>
<div class="SIntrapara">
 <div class="JavaHighlightBlock">
  <blockquote class="SCodeFlow">
   <table cellspacing="0" cellpadding="0" class="RktBlk">
    <tbody>
     <tr>
      <td>
       <span class="RktMeta"></span><span class="ProfjKeyword">if</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">(</span><span class="ProfjIdentifier">some</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">condition</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span>
      </td>
     </tr>
     <tr>
      <td>
       <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjComment">//...statements to execute if condition was true...
</span><span class="ProfjKeyword">}</span><span class="RktMeta"></span>
      </td>
     </tr>
     <tr>
      <td>
       <span class="RktMeta"></span><span class="ProfjKeyword">else</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span>
      </td>
     </tr>
     <tr>
      <td>
       <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjComment">//...statements to execute if condition was false...
</span><span class="ProfjKeyword">}</span><span class="RktMeta"></span>
      </td>
     </tr>
    </tbody>
   </table>
  </blockquote>
 </div>
</div>
<div class="SIntrapara">
 where only one of the branches of the <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjKeyword">if</span><span class="RktMeta"></span></span></span> executes its statements.  Note that unlike
DrRacket, an <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjKeyword">if</span><span class="RktMeta"></span></span></span> in Java is <span class="emph">not</span> an expression, and does not produce a value.
In the code for <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">allBefore</span><span class="RktMeta"></span></span></span> above, the <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjKeyword">if</span><span class="RktMeta"></span></span></span> statement itself does not return a value;
the <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjKeyword">return</span><span class="RktMeta"></span></span></span> statements inside it do.)
</div>
<p></p>
<p>
 We‚Äôre not quite done; we have a method remaining on our wish list, so we must add to the class <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">Book</span><span class="RktMeta"></span></span></span> the method
</p>
<div class="JavaHighlightBlock">
 <blockquote class="SCodeFlow">
  <table cellspacing="0" cellpadding="0" class="RktBlk">
   <tbody>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjComment">// was this book published before the given year?
</span><span class="ProfjPrimType">boolean</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">publishedBefore</span><span class="ProfjKeyword">(</span><span class="ProfjPrimType">int</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">year</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">return</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">year</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">&lt;</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">year</span><span class="ProfjDefault">;</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjKeyword">}</span><span class="RktMeta"></span>
     </td>
    </tr>
   </tbody>
  </table>
 </blockquote>
</div>
<blockquote class="ExerciseBody">
 <p></p>
 <div class="SIntrapara">
  <p class="Exercise">
   Exercise
  </p>
 </div>
 <div class="SIntrapara">
  Flesh out the rest of the design of this method, adding examples and tests.
 </div>
 <p></p>
</blockquote>
<p>
 Of course, for all of these methods, we end the design process by making
sure all tests run. The actual test methods will be:
</p>
<div class="JavaHighlightBlock">
 <blockquote class="SCodeFlow">
  <table cellspacing="0" cellpadding="0" class="RktBlk">
   <tbody>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjComment">// tests for the method count
</span><span class="ProfjPrimType">boolean</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">testCount</span><span class="ProfjKeyword">(</span><span class="ProfjType">Tester</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">t</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">return</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjIdentifier">t</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">checkExpect</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">mtlist</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">count</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjLiteral">0</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">&amp;&amp;</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjIdentifier">t</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">checkExpect</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">lista</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">count</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjLiteral">1</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">&amp;&amp;</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjIdentifier">t</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">checkExpect</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">listd</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">count</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjLiteral">3</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjKeyword">}</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjError">&nbsp;</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjComment">// tests for the method salePrice
</span><span class="ProfjPrimType">boolean</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">testSalePrice</span><span class="ProfjKeyword">(</span><span class="ProfjType">Tester</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">t</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">return</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjComment">// no discount -- full price
</span><span class="ProfjWhiteSpace">  </span><span class="ProfjIdentifier">t</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">checkInexact</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">mtlist</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">salePrice</span><span class="ProfjKeyword">(</span><span class="ProfjLiteral">0</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjLiteral">0.0</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjLiteral">0.001</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">&amp;&amp;</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjIdentifier">t</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">checkInexact</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">lista</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">salePrice</span><span class="ProfjKeyword">(</span><span class="ProfjLiteral">0</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjLiteral">10.0</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjLiteral">0.001</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">&amp;&amp;</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjIdentifier">t</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">checkInexact</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">listc</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">salePrice</span><span class="ProfjKeyword">(</span><span class="ProfjLiteral">0</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjLiteral">95.0</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjLiteral">0.001</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">&amp;&amp;</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjIdentifier">t</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">checkInexact</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">listd</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">salePrice</span><span class="ProfjKeyword">(</span><span class="ProfjLiteral">0</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjLiteral">95.0</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjLiteral">0.001</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">&amp;&amp;</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjComment">// 50% off sale -- half price
</span><span class="ProfjWhiteSpace">  </span><span class="ProfjIdentifier">t</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">checkInexact</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">mtlist</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">salePrice</span><span class="ProfjKeyword">(</span><span class="ProfjLiteral">50</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjLiteral">0.0</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjLiteral">0.001</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">&amp;&amp;</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjIdentifier">t</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">checkInexact</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">lista</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">salePrice</span><span class="ProfjKeyword">(</span><span class="ProfjLiteral">50</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjLiteral">5.0</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjLiteral">0.001</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">&amp;&amp;</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjIdentifier">t</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">checkInexact</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">listc</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">salePrice</span><span class="ProfjKeyword">(</span><span class="ProfjLiteral">50</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjLiteral">47.5</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjLiteral">0.001</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">&amp;&amp;</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjIdentifier">t</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">checkInexact</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">listd</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">salePrice</span><span class="ProfjKeyword">(</span><span class="ProfjLiteral">50</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjLiteral">47.5</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjLiteral">0.001</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjKeyword">}</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjError">&nbsp;</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjComment">// tests for the method allBefore
</span><span class="ProfjPrimType">boolean</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">testAllBefore</span><span class="ProfjKeyword">(</span><span class="ProfjType">Tester</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">t</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">return</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjIdentifier">t</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">checkExpect</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">mtlist</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">allBefore</span><span class="ProfjKeyword">(</span><span class="ProfjLiteral">2001</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">mtlist</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">&amp;&amp;</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjIdentifier">t</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">checkExpect</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">lista</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">allBefore</span><span class="ProfjKeyword">(</span><span class="ProfjLiteral">2001</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">lista</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">&amp;&amp;</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjIdentifier">t</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">checkExpect</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">listb</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">allBefore</span><span class="ProfjKeyword">(</span><span class="ProfjLiteral">2001</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">mtlist</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">&amp;&amp;</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjIdentifier">t</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">checkExpect</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">listc</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">allBefore</span><span class="ProfjKeyword">(</span><span class="ProfjLiteral">2001</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">,</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjWhiteSpace">     </span><span class="ProfjKeyword">new</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">ConsLoBook</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">lpp</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">new</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">ConsLoBook</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">ll</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">mtlist</span><span class="ProfjKeyword">)</span><span class="ProfjKeyword">)</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">&amp;&amp;</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjIdentifier">t</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">checkExpect</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">listd</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">allBefore</span><span class="ProfjKeyword">(</span><span class="ProfjLiteral">2001</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">,</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjWhiteSpace">     </span><span class="ProfjKeyword">new</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">ConsLoBook</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">ll</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">new</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">ConsLoBook</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">lpp</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">mtlist</span><span class="ProfjKeyword">)</span><span class="ProfjKeyword">)</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjKeyword">}</span><span class="RktMeta"></span>
     </td>
    </tr>
   </tbody>
  </table>
 </blockquote>
</div>
<h5 class="heading">
 5.3
 <tt>
  &nbsp;
 </tt>
 <a name="(part._.Sorting)"></a>Sorting<span class="button-group"><a href="#(part._.Sorting)" class="heading-anchor" title="Link to here">üîó</a><span style="visibility: hidden"> </span></span>
</h5>
<p>
 The last method to design was defined in the interface <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">ILoBook</span><span class="RktMeta"></span></span></span> as:
</p>
<div class="JavaHighlightBlock">
 <blockquote class="SCodeFlow">
  <table cellspacing="0" cellpadding="0" class="RktBlk">
   <tbody>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjComment">// produce a list of all books in this list, sorted by their price
</span><span class="ProfjType">ILoBook</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">sortByPrice</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span>
     </td>
    </tr>
   </tbody>
  </table>
 </blockquote>
</div>
<p>
 An empty list is sorted already, so in the class <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">MtLoBook</span><span class="RktMeta"></span></span></span> the method becomes:
</p>
<div class="JavaHighlightBlock">
 <blockquote class="SCodeFlow">
  <table cellspacing="0" cellpadding="0" class="RktBlk">
   <tbody>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjComment">// produce a list of all books in this list, sorted by their price
</span><span class="ProfjKeyword">public</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">ILoBook</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">sortByPrice</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">return</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">this</span><span class="ProfjDefault">;</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjKeyword">}</span><span class="RktMeta"></span>
     </td>
    </tr>
   </tbody>
  </table>
 </blockquote>
</div>
<p>
 We do not need to create a <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjKeyword">new</span><span class="RktMeta"></span></span></span> empty list, <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjKeyword">this</span><span class="RktMeta"></span></span></span> one works perfectly well.
</p>
<p>
 We need examples for the more complex cases. We recall our sample data:
</p>
<div class="JavaHighlightBlock">
 <blockquote class="SCodeFlow">
  <table cellspacing="0" cellpadding="0" class="RktBlk">
   <tbody>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjComment">//Books
</span><span class="ProfjType">Book</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">htdp</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">=</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">new</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">Book</span><span class="ProfjKeyword">(</span><span class="ProfjString">"HtDP"</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjString">"MF"</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjLiteral">2001</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjLiteral">60</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjType">Book</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">lpp</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">=</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">new</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">Book</span><span class="ProfjKeyword">(</span><span class="ProfjString">"LPP"</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjString">"STX"</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjLiteral">1942</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjLiteral">25</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjType">Book</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">ll</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">=</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">new</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">Book</span><span class="ProfjKeyword">(</span><span class="ProfjString">"LL"</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjString">"FF"</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjLiteral">1986</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjLiteral">10</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjError">&nbsp;</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjComment">// lists of Books
</span><span class="ProfjType">ILoBook</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">mtlist</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">=</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">new</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">MtLoBook</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjType">ILoBook</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">lista</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">=</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">new</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">ConsLoBook</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">lpp</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">mtlist</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjType">ILoBook</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">listb</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">=</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">new</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">ConsLoBook</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">htdp</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">mtlist</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjType">ILoBook</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">listc</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">=</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">new</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">ConsLoBook</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">lpp</span><span class="ProfjDefault">,</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjWhiteSpace">                </span><span class="ProfjKeyword">new</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">ConsLoBook</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">ll</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">listb</span><span class="ProfjKeyword">)</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjType">ILoBook</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">listd</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">=</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">new</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">ConsLoBook</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">ll</span><span class="ProfjDefault">,</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjWhiteSpace">                  </span><span class="ProfjKeyword">new</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">ConsLoBook</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">lpp</span><span class="ProfjDefault">,</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjWhiteSpace">                    </span><span class="ProfjKeyword">new</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">ConsLoBook</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">htdp</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">mtlist</span><span class="ProfjKeyword">)</span><span class="ProfjKeyword">)</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjType">ILoBook</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">listdUnsorted</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">=</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">new</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">ConsLoBook</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">lpp</span><span class="ProfjDefault">,</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjWhiteSpace">    </span><span class="ProfjKeyword">new</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">ConsLoBook</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">htdp</span><span class="ProfjDefault">,</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjWhiteSpace">      </span><span class="ProfjKeyword">new</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">ConsLoBook</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">ll</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">mtlist</span><span class="ProfjKeyword">)</span><span class="ProfjKeyword">)</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span>
     </td>
    </tr>
   </tbody>
  </table>
 </blockquote>
</div>
<p>
 and our tests will be:
</p>
<div class="JavaHighlightBlock">
 <blockquote class="SCodeFlow">
  <table cellspacing="0" cellpadding="0" class="RktBlk">
   <tbody>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjComment">// test the method sort for the lists of books
</span><span class="ProfjPrimType">boolean</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">testSort</span><span class="ProfjKeyword">(</span><span class="ProfjType">Tester</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">t</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">return</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjIdentifier">t</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">checkExpect</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">listc</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">sortByPrice</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">listd</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">&amp;&amp;</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjIdentifier">t</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">checkExpect</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">listdUnsorted</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">sortByPrice</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">listd</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjKeyword">}</span><span class="RktMeta"></span>
     </td>
    </tr>
   </tbody>
  </table>
 </blockquote>
</div>
<p>
 Next we look at the template that is relevant for this question:
</p>
<div class="JavaHighlightBlock">
 <blockquote class="SCodeFlow">
  <table cellspacing="0" cellpadding="0" class="RktBlk">
   <tbody>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjBlockComment">/*
TEMPLATE:
---------
Fields:
... this.first ...                            -- Book
... this.rest ...                             -- ILoBook
Methods:
... this.sortByPrice() ...                    -- ILoBook
Methods for Fields:
... this.rest.sortByPrice() ...               -- ILoBook
*/</span><span class="RktMeta"></span>
     </td>
    </tr>
   </tbody>
  </table>
 </blockquote>
</div>
<p></p>
<div class="SIntrapara">
 Reading the purpose statement for <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">sortByPrice</span><span class="RktMeta"></span></span></span> carefully, we see that (like <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">allBefore</span><span class="RktMeta"></span></span></span> above)
<span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">rest</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">sortByPrice</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="RktMeta"></span></span></span> does almost all the work for us ‚Äî<wbr> it
produces a sorted rest of this list.  What makes this method more challenging than
<span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">allBefore</span><span class="RktMeta"></span></span></span> is that we aren‚Äôt simply prepending to the beginning of that resulting list;
we need to <span class="emph">insert</span> the first element of the list into its appropriate place in the sorted rest of the list.
This sounds like a job for a helper method, so we add it to our wish list and move on.
</div>
<div class="SIntrapara">
 <blockquote class="IncerciseBody">
  <p></p>
  <div class="SIntrapara">
   <p class="Incercise">
    Do Now!
   </p>
  </div>
  <div class="SIntrapara">
   When we do get to it, where should this helper method be defined?
  </div>
  <p></p>
 </blockquote>
</div>
<div class="SIntrapara">
 Implementing <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">sortByPrice</span><span class="RktMeta"></span></span></span> for <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">ConsLoBook</span><span class="RktMeta"></span></span></span> is now straightforward: we just translate the English sentence
above into Java.
</div>
<div class="SIntrapara">
 <div class="JavaHighlightBlock">
  <blockquote class="SCodeFlow">
   <table cellspacing="0" cellpadding="0" class="RktBlk">
    <tbody>
     <tr>
      <td>
       <span class="RktMeta"></span><span class="ProfjComment">// In ConsLoBook
</span><span class="ProfjComment">// produces a list of the books in this non-empty list, sorted by price
</span><span class="ProfjKeyword">public</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">ILoBook</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">sortByPrice</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span>
      </td>
     </tr>
     <tr>
      <td>
       <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">return</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">rest</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">sortByPrice</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace">  </span><span class="ProfjComment">// sort the rest of the list...
</span><span class="ProfjWhiteSpace">             </span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">insert</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">first</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="ProfjWhiteSpace"> </span><span class="ProfjComment">// and insert the first book into that result
</span><span class="ProfjKeyword">}</span><span class="RktMeta"></span>
      </td>
     </tr>
    </tbody>
   </table>
  </blockquote>
 </div>
</div>
<p></p>
<p></p>
<div class="SIntrapara">
 Now we need to finish off the items on our wish list.  We need <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">insert</span><span class="RktMeta"></span></span></span>
to produce a list whose contents are the same as the contents of this (already
sorted!) list, but with the given <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">Book</span><span class="RktMeta"></span></span></span> inserted into its proper place.
To do this, we‚Äôll certainly need to compare whether one book is cheaper than another,
so we‚Äôll add that to our wish list and move on.
</div>
<div class="SIntrapara">
 <blockquote class="IncerciseBody">
  <p></p>
  <div class="SIntrapara">
   <p class="Incercise">
    Do Now!
   </p>
  </div>
  <div class="SIntrapara">
   Implement <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">insert</span><span class="RktMeta"></span></span></span> for <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">ConsLoBook</span><span class="RktMeta"></span></span></span>.  Pay careful attention
to the use of the template to guide your recursive calls.
  </div>
  <p></p>
 </blockquote>
</div>
<div class="SIntrapara">
 If we define <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">insert</span><span class="RktMeta"></span></span></span> as a method in <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">ConsLoBook</span><span class="RktMeta"></span></span></span>...
</div>
<p></p>
<div class="JavaHighlightBlock">
 <blockquote class="SCodeFlow">
  <table cellspacing="0" cellpadding="0" class="RktBlk">
   <tbody>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjComment">// in ConsLoBook
</span><span class="ProfjComment">// insert the given book into this list of books
</span><span class="ProfjComment">// already sorted by price
</span><span class="ProfjKeyword">public</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">ILoBook</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">insert</span><span class="ProfjKeyword">(</span><span class="ProfjType">Book</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">b</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">if</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">first</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">cheaperThan</span><span class="ProfjKeyword">(</span><span class="ProfjIdentifier">b</span><span class="ProfjKeyword">)</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjWhiteSpace">    </span><span class="ProfjKeyword">return</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">new</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">ConsLoBook</span><span class="ProfjKeyword">(</span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">first</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">rest</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">insert</span><span class="ProfjKeyword">(</span><span class="ProfjIdentifier">b</span><span class="ProfjKeyword">)</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">}</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">else</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjWhiteSpace">    </span><span class="ProfjKeyword">return</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">new</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">ConsLoBook</span><span class="ProfjKeyword">(</span><span class="ProfjIdentifier">b</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">this</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">}</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjKeyword">}</span><span class="RktMeta"></span>
     </td>
    </tr>
   </tbody>
  </table>
 </blockquote>
</div>
<p></p>
<div class="SIntrapara">
 ...Java complains.
</div>
<div class="SIntrapara">
 <blockquote class="IncerciseBody">
  <p></p>
  <div class="SIntrapara">
   <p class="Incercise">
    Do Now!
   </p>
  </div>
  <div class="SIntrapara">
   Why?  What did we forget? (Hint: if you try this code in Eclipse,
where does it indicate there are errors?)
  </div>
  <p></p>
 </blockquote>
</div>
<div class="SIntrapara">
 Yes, we haven‚Äôt implemented <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">cheaperThan</span><span class="RktMeta"></span></span></span> yet.  Let‚Äôs fix that right now:
</div>
<div class="SIntrapara">
 <div class="JavaHighlightBlock">
  <blockquote class="SCodeFlow">
   <table cellspacing="0" cellpadding="0" class="RktBlk">
    <tbody>
     <tr>
      <td>
       <span class="RktMeta"></span><span class="ProfjComment">// in Book
</span><span class="ProfjComment">// is the price of this book cheaper than the price of the given book?
</span><span class="ProfjPrimType">boolean</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">cheaperThan</span><span class="ProfjKeyword">(</span><span class="ProfjType">Book</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">that</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span>
      </td>
     </tr>
     <tr>
      <td>
       <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">return</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">price</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">&lt;</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">that</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">price</span><span class="ProfjDefault">;</span><span class="RktMeta"></span>
      </td>
     </tr>
     <tr>
      <td>
       <span class="RktMeta"></span><span class="ProfjKeyword">}</span><span class="RktMeta"></span>
      </td>
     </tr>
    </tbody>
   </table>
  </blockquote>
 </div>
</div>
<p></p>
<p>
 But still we have a problem.  We‚Äôve defined <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">insert</span><span class="RktMeta"></span></span></span> on <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">ConsLoBook</span><span class="RktMeta"></span></span></span>, but
in the third line, we write <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">rest</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">insert</span><span class="ProfjKeyword">(</span><span class="ProfjIdentifier">b</span><span class="ProfjKeyword">)</span><span class="RktMeta"></span></span></span> ‚Äî<wbr> and we do not know anything
about <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjKeyword">this</span><span class="ProfjDefault">.</span><span class="ProfjIdentifier">rest</span><span class="RktMeta"></span></span></span> except that it‚Äôs an <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">ILoBook</span><span class="RktMeta"></span></span></span>, and <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">ILoBook</span><span class="RktMeta"></span></span></span>
says nothing about an <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">insert</span><span class="RktMeta"></span></span></span> method!
</p>
<p></p>
<div class="SIntrapara">
 Ok let‚Äôs add the method to our interface:
</div>
<div class="SIntrapara">
 <div class="JavaHighlightBlock">
  <blockquote class="SCodeFlow">
   <table cellspacing="0" cellpadding="0" class="RktBlk">
    <tbody>
     <tr>
      <td>
       <span class="RktMeta"></span><span class="ProfjComment">// in ILoBook
</span><span class="ProfjComment">// insert the given book into this list of books
</span><span class="ProfjComment">// already sorted by price
</span><span class="ProfjType">ILoBook</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">insert</span><span class="ProfjKeyword">(</span><span class="ProfjType">Book</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">b</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span>
      </td>
     </tr>
    </tbody>
   </table>
  </blockquote>
 </div>
</div>
<p></p>
<p></p>
<div class="SIntrapara">
 And now we have fixed our problem here, only to create a new problem elsewhere.
</div>
<div class="SIntrapara">
 <blockquote class="IncerciseBody">
  <p></p>
  <div class="SIntrapara">
   <p class="Incercise">
    Do Now!
   </p>
  </div>
  <div class="SIntrapara">
   <span class="emph">Now</span> what did we miss?
  </div>
  <p></p>
 </blockquote>
</div>
<div class="SIntrapara">
 <blockquote class="refpara">
  <blockquote class="refcolumn">
   <blockquote class="refcontent">
    <p>
     This is another, subtle example of the benefits of writing down our types
explicitly.  In DrRacket, if we tried to define a function over a union
type, and <span class="emph">forgot</span> a case, the only way we‚Äôd find out is if a test
caught the lapse.  Here, Java can immedately warn us that we‚Äôve forgotten
something
    </p>
   </blockquote>
  </blockquote>
 </blockquote>
</div>
<div class="SIntrapara">
 Now that we‚Äôve promised that all <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">ILoBook</span><span class="RktMeta"></span></span></span>s must implement <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">insert</span><span class="RktMeta"></span></span></span>,
we need to implement it on <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">MtLoBook</span><span class="RktMeta"></span></span></span> too.  How can we insert a <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">Book</span><span class="RktMeta"></span></span></span>
into its proper place in an empty list?  By building a list with only the
given book in it:
</div>
<p></p>
<div class="JavaHighlightBlock">
 <blockquote class="SCodeFlow">
  <table cellspacing="0" cellpadding="0" class="RktBlk">
   <tbody>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjComment">// in MtLoBook
</span><span class="ProfjComment">// insert the given book into this empty list of books
</span><span class="ProfjComment">// already sorted by price
</span><span class="ProfjKeyword">public</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">ILoBook</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">insert</span><span class="ProfjKeyword">(</span><span class="ProfjType">Book</span><span class="ProfjWhiteSpace"> </span><span class="ProfjIdentifier">b</span><span class="ProfjKeyword">)</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">{</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjWhiteSpace">  </span><span class="ProfjKeyword">return</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">new</span><span class="ProfjWhiteSpace"> </span><span class="ProfjType">ConsLoBook</span><span class="ProfjKeyword">(</span><span class="ProfjIdentifier">b</span><span class="ProfjDefault">,</span><span class="ProfjWhiteSpace"> </span><span class="ProfjKeyword">this</span><span class="ProfjKeyword">)</span><span class="ProfjDefault">;</span><span class="RktMeta"></span>
     </td>
    </tr>
    <tr>
     <td>
      <span class="RktMeta"></span><span class="ProfjKeyword">}</span><span class="RktMeta"></span>
     </td>
    </tr>
   </tbody>
  </table>
 </blockquote>
</div>
<p>
 And now we are finally done!
</p>
<p></p>
<div class="SIntrapara">
 <blockquote class="refpara">
  <blockquote class="refcolumn">
   <blockquote class="refcontent">
    <p>
     This sorting order is called ‚Äúlexicographic‚Äù, and is the generalization of sorting alphabetically
to account for digits, punctuation, other alphabets, and all the other characters allowed in strings.
    </p>
   </blockquote>
  </blockquote>
 </blockquote>
</div>
<div class="SIntrapara">
 <blockquote class="ExerciseBody">
  <p></p>
  <div class="SIntrapara">
   <p class="Exercise">
    Exercise
   </p>
  </div>
  <div class="SIntrapara">
   Suppose we wanted to sort the books by title, instead of by price.  We cannot use the <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjKeyword">&lt;</span><span class="RktMeta"></span></span></span>
operator to compare <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjPrimType">String</span><span class="RktMeta"></span></span></span>s.  Instead, <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjPrimType">String</span><span class="RktMeta"></span></span></span>s have a method <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">compareTo</span><span class="ProfjKeyword">(</span><span class="ProfjPrimType">String</span><span class="ProfjKeyword">)</span><span class="RktMeta"></span></span></span>
that returns:
  </div>
  <div class="SIntrapara">
   <ul>
    <li>
     <p>
      A negative integer if this <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjPrimType">String</span><span class="RktMeta"></span></span></span> is lexicographically before the given <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjPrimType">String</span><span class="RktMeta"></span></span></span>
     </p>
    </li>
    <li>
     <p>
      0 if the strings are lexicographically equal
     </p>
    </li>
    <li>
     <p>
      A positive integer if this <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjPrimType">String</span><span class="RktMeta"></span></span></span> is lexicographically after the given <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjPrimType">String</span><span class="RktMeta"></span></span></span>
     </p>
    </li>
   </ul>
  </div>
  <div class="SIntrapara">
   Use this method to define a method <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">titleBefore</span><span class="RktMeta"></span></span></span> on <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjType">Book</span><span class="RktMeta"></span></span></span>s, analogous to <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">cheaperThan</span><span class="RktMeta"></span></span></span>,
and revise <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">sort</span><span class="RktMeta"></span></span></span> and/or <span class="RktBlk"><span class="JavaHighlight"><span class="RktMeta"></span><span class="ProfjIdentifier">insert</span><span class="RktMeta"></span></span></span> to use it.
  </div>
  <p></p>
 </blockquote>
</div>
<p></p>
<div class="navsetbottom">
 <span class="navleft">
 <div class="nosearchform"></div>
 &nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span>
</span>
<span class="navright">&nbsp;&nbsp;<a href="lecture4.html" title="backward to &quot;Lecture 4: Methods for unions&quot;" data-pltdoc="x" rel="prev">‚Üê prev</a>&nbsp;&nbsp;<a href="Lectures.html" title="up to &quot;Lectures&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="lecture6.html" title="forward to &quot;Lecture 6: Accumulator methods&quot;" data-pltdoc="x" rel="next">next ‚Üí</a></span>&nbsp;
</div>
</div>
</div>
<div id="contextindicator">
&nbsp;
</div>
</body>
</html>
